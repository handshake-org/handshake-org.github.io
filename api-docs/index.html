
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Handshake API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell--curl&quot;,&quot;shell--cli&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
        <a href="/">
      <img src="images/logo.png" class="logo" alt="Logo" />
        </a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell--curl">cURL</a>
              <a href="#" data-language-name="shell--cli">CLI</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#auth" class="toc-h2 toc-link" data-title="Authentication">Auth</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#configuring-clients" class="toc-h1 toc-link" data-title="Configuring Clients">Configuring Clients</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#default-listeners" class="toc-h2 toc-link" data-title="Configuring Clients">Default Listeners</a>
                  </li>
                  <li>
                    <a href="#configuring-hsd-cli" class="toc-h2 toc-link" data-title="Configuring Clients">Configuring hsd-cli</a>
                  </li>
                  <li>
                    <a href="#using-javascript-clients" class="toc-h2 toc-link" data-title="Configuring Clients">Using Javascript Clients</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hsd-node" class="toc-h1 toc-link" data-title="hsd - Node">hsd - Node</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hsd-client-requests" class="toc-h2 toc-link" data-title="hsd - Node">hsd client requests</a>
                  </li>
                  <li>
                    <a href="#get-server-info" class="toc-h2 toc-link" data-title="hsd - Node">Get server info</a>
                  </li>
                  <li>
                    <a href="#get-mempool-snapshot" class="toc-h2 toc-link" data-title="hsd - Node">Get mempool snapshot</a>
                  </li>
                  <li>
                    <a href="#get-block-by-hash-or-height" class="toc-h2 toc-link" data-title="hsd - Node">Get block by hash or height</a>
                  </li>
                  <li>
                    <a href="#broadcast-transaction" class="toc-h2 toc-link" data-title="hsd - Node">Broadcast transaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hsd-coins" class="toc-h1 toc-link" data-title="hsd - Coins">hsd - Coins</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-coin-by-outpoint" class="toc-h2 toc-link" data-title="hsd - Coins">Get coin by Outpoint</a>
                  </li>
                  <li>
                    <a href="#get-coins-by-address" class="toc-h2 toc-link" data-title="hsd - Coins">Get coins by address</a>
                  </li>
                  <li>
                    <a href="#get-coins-by-addresses" class="toc-h2 toc-link" data-title="hsd - Coins">Get coins by addresses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hsd-transactions" class="toc-h1 toc-link" data-title="hsd - Transactions">hsd - Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-tx-by-txhash" class="toc-h2 toc-link" data-title="hsd - Transactions">Get tx by txhash</a>
                  </li>
                  <li>
                    <a href="#get-tx-by-address" class="toc-h2 toc-link" data-title="hsd - Transactions">Get tx by address</a>
                  </li>
                  <li>
                    <a href="#get-tx-by-addresses" class="toc-h2 toc-link" data-title="hsd - Transactions">Get tx by addresses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-node" class="toc-h1 toc-link" data-title="RPC Calls - Node">RPC Calls - Node</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-parameters-rpc" class="toc-h2 toc-link" data-title="RPC Calls - Node">POST Parameters RPC</a>
                  </li>
                  <li>
                    <a href="#stop" class="toc-h2 toc-link" data-title="RPC Calls - Node">stop</a>
                  </li>
                  <li>
                    <a href="#getinfo" class="toc-h2 toc-link" data-title="RPC Calls - Node">getinfo</a>
                  </li>
                  <li>
                    <a href="#getmemoryinfo" class="toc-h2 toc-link" data-title="RPC Calls - Node">getmemoryinfo</a>
                  </li>
                  <li>
                    <a href="#setloglevel" class="toc-h2 toc-link" data-title="RPC Calls - Node">setloglevel</a>
                  </li>
                  <li>
                    <a href="#validateaddress" class="toc-h2 toc-link" data-title="RPC Calls - Node">validateaddress</a>
                  </li>
                  <li>
                    <a href="#createmultisig" class="toc-h2 toc-link" data-title="RPC Calls - Node">createmultisig</a>
                  </li>
                  <li>
                    <a href="#signmessagewithprivkey" class="toc-h2 toc-link" data-title="RPC Calls - Node">signmessagewithprivkey</a>
                  </li>
                  <li>
                    <a href="#verifymessage" class="toc-h2 toc-link" data-title="RPC Calls - Node">verifymessage</a>
                  </li>
                  <li>
                    <a href="#setmocktime" class="toc-h2 toc-link" data-title="RPC Calls - Node">setmocktime</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-names" class="toc-h1 toc-link" data-title="RPC Calls - Names">RPC Calls - Names</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getnameinfo" class="toc-h2 toc-link" data-title="RPC Calls - Names">getnameinfo</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-names" class="toc-h1 toc-link" data-title="RPC Calls - Names">RPC Calls - Names</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sendopen" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendopen</a>
                  </li>
                  <li>
                    <a href="#sendbid" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendbid</a>
                  </li>
                  <li>
                    <a href="#getauctioninfo" class="toc-h2 toc-link" data-title="RPC Calls - Names">getauctioninfo</a>
                  </li>
                  <li>
                    <a href="#sendreveal" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendreveal</a>
                  </li>
                  <li>
                    <a href="#sendredeem" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendredeem</a>
                  </li>
                  <li>
                    <a href="#sendupdate" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendupdate</a>
                  </li>
                  <li>
                    <a href="#sendrenewal" class="toc-h2 toc-link" data-title="RPC Calls - Names">sendrenewal</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-chain" class="toc-h1 toc-link" data-title="RPC Calls - Chain">RPC Calls - Chain</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#pruneblockchain" class="toc-h2 toc-link" data-title="RPC Calls - Chain">pruneblockchain</a>
                  </li>
                  <li>
                    <a href="#invalidateblock" class="toc-h2 toc-link" data-title="RPC Calls - Chain">invalidateblock</a>
                  </li>
                  <li>
                    <a href="#reconsiderblock" class="toc-h2 toc-link" data-title="RPC Calls - Chain">reconsiderblock</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-block" class="toc-h1 toc-link" data-title="RPC Calls - Block">RPC Calls - Block</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getblockchaininfo" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockchaininfo</a>
                  </li>
                  <li>
                    <a href="#getbestblockhash" class="toc-h2 toc-link" data-title="RPC Calls - Block">getbestblockhash</a>
                  </li>
                  <li>
                    <a href="#getblockcount" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockcount</a>
                  </li>
                  <li>
                    <a href="#getblock" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblock</a>
                  </li>
                  <li>
                    <a href="#getblockbyheight" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockbyheight</a>
                  </li>
                  <li>
                    <a href="#getblockhash" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockhash</a>
                  </li>
                  <li>
                    <a href="#getblockheader" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockheader</a>
                  </li>
                  <li>
                    <a href="#getchaintips" class="toc-h2 toc-link" data-title="RPC Calls - Block">getchaintips</a>
                  </li>
                  <li>
                    <a href="#getdifficulty" class="toc-h2 toc-link" data-title="RPC Calls - Block">getdifficulty</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-mempool" class="toc-h1 toc-link" data-title="RPC Calls - Mempool">RPC Calls - Mempool</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getmempoolinfo" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolinfo</a>
                  </li>
                  <li>
                    <a href="#getmempoolancestors" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolancestors</a>
                  </li>
                  <li>
                    <a href="#getmempooldescendants" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempooldescendants</a>
                  </li>
                  <li>
                    <a href="#getmempoolentry" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolentry</a>
                  </li>
                  <li>
                    <a href="#getrawmempool" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getrawmempool</a>
                  </li>
                  <li>
                    <a href="#prioritisetransaction" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">prioritisetransaction</a>
                  </li>
                  <li>
                    <a href="#estimatefee" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatefee</a>
                  </li>
                  <li>
                    <a href="#estimatepriority" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatepriority</a>
                  </li>
                  <li>
                    <a href="#estimatesmartfee" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatesmartfee</a>
                  </li>
                  <li>
                    <a href="#estimatesmartpriority" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatesmartpriority</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-transactions" class="toc-h1 toc-link" data-title="RPC Calls - Transactions">RPC Calls - Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#gettxout" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxout</a>
                  </li>
                  <li>
                    <a href="#gettxoutsetinfo" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxoutsetinfo</a>
                  </li>
                  <li>
                    <a href="#getrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">getrawtransaction</a>
                  </li>
                  <li>
                    <a href="#decoderawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">decoderawtransaction</a>
                  </li>
                  <li>
                    <a href="#decodescript" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">decodescript</a>
                  </li>
                  <li>
                    <a href="#sendrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">sendrawtransaction</a>
                  </li>
                  <li>
                    <a href="#createrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">createrawtransaction</a>
                  </li>
                  <li>
                    <a href="#signrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">signrawtransaction</a>
                  </li>
                  <li>
                    <a href="#gettxoutproof" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxoutproof</a>
                  </li>
                  <li>
                    <a href="#verifytxoutproof" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">verifytxoutproof</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-mining" class="toc-h1 toc-link" data-title="RPC Calls - Mining">RPC Calls - Mining</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getnetworkhashps" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getnetworkhashps</a>
                  </li>
                  <li>
                    <a href="#getmininginfo" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getmininginfo</a>
                  </li>
                  <li>
                    <a href="#getwork" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getwork</a>
                  </li>
                  <li>
                    <a href="#getworklp" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getworklp</a>
                  </li>
                  <li>
                    <a href="#getblocktemplate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getblocktemplate</a>
                  </li>
                  <li>
                    <a href="#submitblock" class="toc-h2 toc-link" data-title="RPC Calls - Mining">submitblock</a>
                  </li>
                  <li>
                    <a href="#verifyblock" class="toc-h2 toc-link" data-title="RPC Calls - Mining">verifyblock</a>
                  </li>
                  <li>
                    <a href="#setgenerate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">setgenerate</a>
                  </li>
                  <li>
                    <a href="#getgenerate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getgenerate</a>
                  </li>
                  <li>
                    <a href="#generate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">generate</a>
                  </li>
                  <li>
                    <a href="#generatetoaddress" class="toc-h2 toc-link" data-title="RPC Calls - Mining">generatetoaddress</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-network" class="toc-h1 toc-link" data-title="RPC Calls - Network">RPC Calls - Network</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getconnectioncount" class="toc-h2 toc-link" data-title="RPC Calls - Network">getconnectioncount</a>
                  </li>
                  <li>
                    <a href="#ping" class="toc-h2 toc-link" data-title="RPC Calls - Network">ping</a>
                  </li>
                  <li>
                    <a href="#getpeerinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getpeerinfo</a>
                  </li>
                  <li>
                    <a href="#addnode" class="toc-h2 toc-link" data-title="RPC Calls - Network">addnode</a>
                  </li>
                  <li>
                    <a href="#disconnectnode" class="toc-h2 toc-link" data-title="RPC Calls - Network">disconnectnode</a>
                  </li>
                  <li>
                    <a href="#getaddednodeinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getaddednodeinfo</a>
                  </li>
                  <li>
                    <a href="#getnettotals" class="toc-h2 toc-link" data-title="RPC Calls - Network">getnettotals</a>
                  </li>
                  <li>
                    <a href="#getnetworkinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getnetworkinfo</a>
                  </li>
                  <li>
                    <a href="#setban" class="toc-h2 toc-link" data-title="RPC Calls - Network">setban</a>
                  </li>
                  <li>
                    <a href="#listbanned" class="toc-h2 toc-link" data-title="RPC Calls - Network">listbanned</a>
                  </li>
                  <li>
                    <a href="#clearbanned" class="toc-h2 toc-link" data-title="RPC Calls - Network">clearbanned</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet" class="toc-h1 toc-link" data-title="Wallet">Wallet</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-wallet-client" class="toc-h2 toc-link" data-title="Wallet">The Wallet Client</a>
                  </li>
                  <li>
                    <a href="#the-walletdb-and-object" class="toc-h2 toc-link" data-title="Wallet">The WalletDB and Object</a>
                  </li>
                  <li>
                    <a href="#configuration" class="toc-h2 toc-link" data-title="Wallet">Configuration</a>
                  </li>
                  <li>
                    <a href="#wallet-options" class="toc-h2 toc-link" data-title="Wallet">Wallet Options</a>
                  </li>
                  <li>
                    <a href="#wallet-auth" class="toc-h2 toc-link" data-title="Wallet">Wallet Auth</a>
                  </li>
                  <li>
                    <a href="#reset-authentication-token" class="toc-h2 toc-link" data-title="Wallet">Reset Authentication Token</a>
                  </li>
                  <li>
                    <a href="#get-wallet-info" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Info</a>
                  </li>
                  <li>
                    <a href="#get-master-hd-key" class="toc-h2 toc-link" data-title="Wallet">Get Master HD Key</a>
                  </li>
                  <li>
                    <a href="#create-a-wallet" class="toc-h2 toc-link" data-title="Wallet">Create A Wallet</a>
                  </li>
                  <li>
                    <a href="#change-passphrase" class="toc-h2 toc-link" data-title="Wallet">Change Passphrase</a>
                  </li>
                  <li>
                    <a href="#send-a-transaction" class="toc-h2 toc-link" data-title="Wallet">Send a transaction</a>
                  </li>
                  <li>
                    <a href="#create-a-transaction" class="toc-h2 toc-link" data-title="Wallet">Create a Transaction</a>
                  </li>
                  <li>
                    <a href="#sign-transaction" class="toc-h2 toc-link" data-title="Wallet">Sign Transaction</a>
                  </li>
                  <li>
                    <a href="#zap-transactions" class="toc-h2 toc-link" data-title="Wallet">Zap Transactions</a>
                  </li>
                  <li>
                    <a href="#unlock-wallet" class="toc-h2 toc-link" data-title="Wallet">Unlock Wallet</a>
                  </li>
                  <li>
                    <a href="#lock-wallet" class="toc-h2 toc-link" data-title="Wallet">Lock Wallet</a>
                  </li>
                  <li>
                    <a href="#import-public-private-key" class="toc-h2 toc-link" data-title="Wallet">Import Public/Private Key</a>
                  </li>
                  <li>
                    <a href="#import-address" class="toc-h2 toc-link" data-title="Wallet">Import Address</a>
                  </li>
                  <li>
                    <a href="#get-blocks-with-wallet-txs" class="toc-h2 toc-link" data-title="Wallet">Get Blocks with Wallet Txs</a>
                  </li>
                  <li>
                    <a href="#get-wallet-block-by-height" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Block by Height</a>
                  </li>
                  <li>
                    <a href="#add-xpubkey-multisig" class="toc-h2 toc-link" data-title="Wallet">Add xpubkey (Multisig)</a>
                  </li>
                  <li>
                    <a href="#remove-xpubkey-multisig" class="toc-h2 toc-link" data-title="Wallet">Remove xpubkey (Multisig)</a>
                  </li>
                  <li>
                    <a href="#get-public-key-by-address" class="toc-h2 toc-link" data-title="Wallet">Get Public Key By Address</a>
                  </li>
                  <li>
                    <a href="#get-private-key-by-address" class="toc-h2 toc-link" data-title="Wallet">Get Private Key By Address</a>
                  </li>
                  <li>
                    <a href="#generate-receiving-address" class="toc-h2 toc-link" data-title="Wallet">Generate Receiving Address</a>
                  </li>
                  <li>
                    <a href="#generate-change-address" class="toc-h2 toc-link" data-title="Wallet">Generate Change Address</a>
                  </li>
                  <li>
                    <a href="#derive-nested-address" class="toc-h2 toc-link" data-title="Wallet">Derive Nested Address</a>
                  </li>
                  <li>
                    <a href="#get-balance" class="toc-h2 toc-link" data-title="Wallet">Get Balance</a>
                  </li>
                  <li>
                    <a href="#list-all-coins" class="toc-h2 toc-link" data-title="Wallet">List all Coins</a>
                  </li>
                  <li>
                    <a href="#lock-coin-outpoints" class="toc-h2 toc-link" data-title="Wallet">Lock Coin/Outpoints</a>
                  </li>
                  <li>
                    <a href="#unlock-outpoint" class="toc-h2 toc-link" data-title="Wallet">Unlock Outpoint</a>
                  </li>
                  <li>
                    <a href="#get-locked-outpoints" class="toc-h2 toc-link" data-title="Wallet">Get Locked Outpoints</a>
                  </li>
                  <li>
                    <a href="#get-wallet-coin" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Coin</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-admin-commands" class="toc-h1 toc-link" data-title="Wallet Admin Commands">Wallet Admin Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#wallet-rescan" class="toc-h2 toc-link" data-title="Wallet Admin Commands">Wallet Rescan</a>
                  </li>
                  <li>
                    <a href="#wallet-resend" class="toc-h2 toc-link" data-title="Wallet Admin Commands">Wallet Resend</a>
                  </li>
                  <li>
                    <a href="#wallet-backup" class="toc-h2 toc-link" data-title="Wallet Admin Commands">Wallet Backup</a>
                  </li>
                  <li>
                    <a href="#list-all-wallets" class="toc-h2 toc-link" data-title="Wallet Admin Commands">List all Wallets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-transactions" class="toc-h1 toc-link" data-title="Wallet Transactions">Wallet Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-wallet-tx-details" class="toc-h2 toc-link" data-title="Wallet Transactions">Get Wallet TX Details</a>
                  </li>
                  <li>
                    <a href="#delete-transaction" class="toc-h2 toc-link" data-title="Wallet Transactions">Delete Transaction</a>
                  </li>
                  <li>
                    <a href="#get-wallet-tx-history" class="toc-h2 toc-link" data-title="Wallet Transactions">Get Wallet TX History</a>
                  </li>
                  <li>
                    <a href="#get-pending-transactions" class="toc-h2 toc-link" data-title="Wallet Transactions">Get Pending Transactions</a>
                  </li>
                  <li>
                    <a href="#get-range-of-transactions" class="toc-h2 toc-link" data-title="Wallet Transactions">Get Range of Transactions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-accounts" class="toc-h1 toc-link" data-title="Wallet Accounts">Wallet Accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#account-object" class="toc-h2 toc-link" data-title="Wallet Accounts">Account Object</a>
                  </li>
                  <li>
                    <a href="#get-wallet-account-list" class="toc-h2 toc-link" data-title="Wallet Accounts">Get Wallet Account List</a>
                  </li>
                  <li>
                    <a href="#get-account-information" class="toc-h2 toc-link" data-title="Wallet Accounts">Get Account Information</a>
                  </li>
                  <li>
                    <a href="#create-new-wallet-account" class="toc-h2 toc-link" data-title="Wallet Accounts">Create new wallet account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-events" class="toc-h1 toc-link" data-title="Wallet Events">Wallet Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#using-wallet-sockets" class="toc-h2 toc-link" data-title="Wallet Events">Using Wallet Sockets</a>
                  </li>
                  <li>
                    <a href="#version" class="toc-h2 toc-link" data-title="Wallet Events"><code>version</code></a>
                  </li>
                  <li>
                    <a href="#wallet-tx" class="toc-h2 toc-link" data-title="Wallet Events"><code>wallet tx</code></a>
                  </li>
                  <li>
                    <a href="#hsw-conflict" class="toc-h2 toc-link" data-title="Wallet Events"><code>hsw.conflict</code></a>
                  </li>
                  <li>
                    <a href="#hsw-confirmed" class="toc-h2 toc-link" data-title="Wallet Events"><code>hsw.confirmed</code></a>
                  </li>
                  <li>
                    <a href="#wallet-unconfirmed" class="toc-h2 toc-link" data-title="Wallet Events"><code>wallet unconfirmed</code></a>
                  </li>
                  <li>
                    <a href="#wallet-balance" class="toc-h2 toc-link" data-title="Wallet Events"><code>wallet balance</code></a>
                  </li>
                  <li>
                    <a href="#wallet-address" class="toc-h2 toc-link" data-title="Wallet Events"><code>wallet address</code></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/handshake-org/hsd'>See the code on GitHub</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the hsd API!</p>

<p>The default hsd HTTP server listens on port (<code>12037</code> for main, <code>13037</code> for testnet, <code>14037</code> for regtest, and <code>15037</code> for simnet). It exposes a REST JSON, as well as a JSON-RPC api.</p>
<h1 id='authentication'>Authentication</h1><h2 id='auth'>Auth</h2><pre class="highlight shell tab-shell--curl"><code><span class="c"># default regtest port is 14037 (may be reconfigured by user), API key is required in URL</span>
curl http://x:api-key@127.0.0.1:14037/

<span class="c"># examples in these docs will use an environment variable:</span>
<span class="nv">url</span><span class="o">=</span>http://x:api-key@127.0.0.1:14037/
curl <span class="nv">$url</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>cli --api-key<span class="o">=</span>api-key --network<span class="o">=</span>regtest info

<span class="c"># store API key and network type in environment variables:</span>
<span class="nb">export </span><span class="nv">HSD_API_KEY</span><span class="o">=</span>api-key
<span class="nb">export </span><span class="nv">HSD_NETWORK</span><span class="o">=</span>regtest
cli info
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="c1">// network type derived from hsd object, client object stores API key</span>
<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">clientinfo</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">clientinfo</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>api-key</code> with your own key.</p>
</blockquote>

<p>Auth is accomplished via HTTP Basic Auth, using your node&#39;s API key.</p>

<aside class="notice">
You must replace <code>api-key</code> with your personal API key.
</aside>

<aside class="warning">
If you intend to use API via network and setup <code>api-key</code>, make sure to setup <code>ssl</code> too.
</aside>
<h1 id='configuring-clients'>Configuring Clients</h1><h2 id='default-listeners'>Default Listeners</h2><pre class="highlight shell tab-shell--visible"><code><span class="c"># With curl you just send HTTP Requests based on further docs</span>
curl http://127.0.0.1:14037/ <span class="c"># will get info from regtest</span>
</code></pre>
<p>By default the API server listens on these <code>localhost</code> ports:</p>

<table><thead>
<tr>
<th>Network</th>
<th>API Port</th>
</tr>
</thead><tbody>
<tr>
<td>main</td>
<td>12037</td>
</tr>
<tr>
<td>testnet</td>
<td>13037</td>
</tr>
<tr>
<td>regtest</td>
<td>14037</td>
</tr>
<tr>
<td>simnet</td>
<td>15037</td>
</tr>
</tbody></table>

<p>You can interact with hsd with its REST API as well as with RPC.
There are couple of ways you can use the API:</p>

<ul>
<li><code>hsd-cli</code> - methods built specifically into hsd by its developers</li>
<li><code>hsd-cli rpc</code> - adds functionality that mimics Bitcoin Core RPC</li>
<li><code>javascript</code> - methods used by <code>hsd-cli</code> can be accessed directly from javascript</li>
<li><code>curl</code> - you can use direct HTTP calls for invoking both REST and RPC API calls</li>
</ul>

<p>Only thing to keep in mind is authentication, which is described in the <a href="#authentication">&quot;Authentication&quot;</a> section.</p>
<h2 id='configuring-hsd-cli'>Configuring hsd-cli</h2><pre class="highlight shell tab-shell--visible"><code><span class="c"># You can configure it by passing arguments:</span>
hsd-cli --network<span class="o">=</span>regtest info
hsd-cli info --network<span class="o">=</span>regtest

<span class="c"># Or use environment variables (Starting with HSK_)</span>
<span class="nb">export </span><span class="nv">HSK_NETWORK</span><span class="o">=</span>regtest
<span class="nb">export </span><span class="nv">HSK_API_KEY</span><span class="o">=</span><span class="nv">$YOUR</span>-API-KEY
hsd-cli info
</code></pre>
<p>Install <code>hsd-cli</code> and <code>hsw-cli</code> command line tools with the <code>hs-client</code> package.
Included with <code>hsd</code> by default, but can be installed separately:
<code>npm install -g hs-client</code></p>

<p><code>hsd-cli</code> params:</p>
<h3 id='general-configuration'>General configuration:</h3>
<table><thead>
<tr>
<th>Config</th>
<th>Options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td><code>main</code>, <code>testnet</code>, <code>regtest</code></td>
<td>This will configure which network to load, also where to look for <code>hsd.conf</code> file</td>
</tr>
<tr>
<td>uri, url</td>
<td>Base HTTP URI</td>
<td>This can be used for custom port</td>
</tr>
<tr>
<td>api-key</td>
<td><em>string</em></td>
<td>Secret used by RPC for authorization</td>
</tr>
</tbody></table>
<h3 id='wallet-specific-configuration'>Wallet specific configuration:</h3>
<table><thead>
<tr>
<th>Config</th>
<th>Options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><em>string</em></td>
<td>Specify which account to use by default</td>
</tr>
<tr>
<td>token</td>
<td><em>string</em></td>
<td>Token specific wallet</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell--visible"><code><span class="c"># Example hsd.conf syntax:</span>
network: main
prefix: ~/.hsd
api-key: &lt;api-key&gt;
</code></pre><h3 id='hsd-conf-and-hsw-conf-files'>hsd.conf and hsw.conf files</h3>
<p>These files may contain any of the configuration parameters, and will be interpreted by hs-client at startup. The node and wallet clients look for their own respective conf files.</p>

<p><a href="https://github.com/handshake-org/hsd/blob/master/etc/sample.conf">A sample hsd.conf file is included in the code repository</a></p>

<aside class="notice">
Some commands might accept additional parameters.
</aside>
<h2 id='using-javascript-clients'>Using Javascript Clients</h2><pre class="highlight javascript tab-javascript--visible"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">,</span> <span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
</code></pre>
<p>You can also use the API with a Javascript library (used by <code>hsd-cli</code>).
There are two objects: <code>NodeClient</code> for general API and <code>WalletClient</code> for wallet API.
<code>hsd</code> also provides an object <code>Network</code> and its method <code>get</code> which will return the default configuration paramaters for a specified network.
Custom port numbers are also configurable by the user.</p>

<p><code>NodeClient</code> and <code>WalletClient</code> options:</p>

<table><thead>
<tr>
<th>Config</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td><em>string</em></td>
<td>Network to use: <code>main</code>, <code>testnet</code>, <code>regtest</code></td>
</tr>
<tr>
<td>port</td>
<td><em>int</em></td>
<td>hsd socket port (specific for each network)</td>
</tr>
<tr>
<td>apiKey</td>
<td><em>string</em></td>
<td>API secret</td>
</tr>
</tbody></table>
<h1 id='hsd-node'>hsd - Node</h1><h2 id='hsd-client-requests'>hsd client requests</h2>
<p>Complete list of commands:</p>

<table><thead>
<tr>
<th>Command</th>
<th>cURL method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>/</code></td>
<td><code>GET</code></td>
<td>get info</td>
</tr>
<tr>
<td><code>/coin/address/:address</code></td>
<td><code>GET</code></td>
<td>UTXO by address</td>
</tr>
<tr>
<td><code>/coin/:hash/:index</code></td>
<td><code>GET</code></td>
<td>UTXO by txid</td>
</tr>
<tr>
<td><code>/coin/address</code></td>
<td><code>POST</code></td>
<td>Bulk read UTXOs</td>
</tr>
<tr>
<td><code>/tx/:hash</code></td>
<td><code>GET</code></td>
<td>TX by hash</td>
</tr>
<tr>
<td><code>/tx/address/:address</code></td>
<td><code>GET</code></td>
<td>TX by address</td>
</tr>
<tr>
<td><code>/tx/address</code></td>
<td><code>POST</code></td>
<td>Bulk read TXs</td>
</tr>
<tr>
<td><code>/block/:block</code></td>
<td><code>GET</code></td>
<td>Block by hash or height</td>
</tr>
<tr>
<td><code>/mempool</code></td>
<td><code>GET</code></td>
<td>Mempool snapshot</td>
</tr>
<tr>
<td><code>/broadcast</code></td>
<td><code>POST</code></td>
<td>Broadcast TX</td>
</tr>
<tr>
<td><code>/fee</code></td>
<td><code>GET</code></td>
<td>Estimate fee</td>
</tr>
<tr>
<td><code>/reset</code></td>
<td><code>POST</code></td>
<td>Reset chain to specific height</td>
</tr>
</tbody></table>
<h2 id='get-server-info'>Get server info</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli info
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">clientinfo</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">clientinfo</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38d4ff72bca6737d958e1456be90443c0e09186349f28b952564118ace222331"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.188.224.12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">14038</span><span class="p">,</span><span class="w">
    </span><span class="s2">"agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/hsd:0.0.0/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"mempool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1744</span><span class="p">,</span><span class="w">
    </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527028546</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adjusted"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527028546</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"memory"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jsHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jsHeapTotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nativeHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get server Info.</p>
<h3 id='http-request'>HTTP Request</h3>
<p>Get server info. No params.</p>

<p><code>GET /</code></p>

<p>No Params.</p>
<h2 id='get-mempool-snapshot'>Get mempool snapshot</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/mempool
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli mempool
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">mempool</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getMempool</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mempool</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"2ef8051e6c38e136ba4d195c048e78f9077751758db710475fa532b9d9489324"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bc3308b61959664b71ac7fb8e9ee17d13476b5a32926f512882851b7631884f9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"53faa103e8217e1520f5149a4e8c84aeb58e55bdab11164a95e69a8ca50f8fcc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fff647849be7408faedda377eea6c37718ab39d656af8926e0b4b74453624f32"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"b3c71dd8959ea97d41324779604b210ae881cdaa5d5abfcbfb3502a0e75c1283"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get mempool snapshot (array of json txs).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /mempool</code></p>

<p>No Params.</p>
<h2 id='get-block-by-hash-or-height'>Get block by hash or height</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockHash</span><span class="p">,</span> <span class="nx">blockHeight</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockHash</span><span class="o">=</span><span class="s1">'ae99a76a7de09b955515014d632e70af82e504dab9f8278387ffd0d6a4caa890'</span>;
<span class="nv">blockHeight</span><span class="o">=</span><span class="s1">'1'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/block/<span class="nv">$blockHash</span> <span class="c"># by hash</span>
curl <span class="nv">$url</span>/block/<span class="nv">$blockHeight</span> <span class="c"># by height</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli block <span class="nv">$blockHash</span> <span class="c"># by hash</span>
hsd-cli block <span class="nv">$blockHeight</span> <span class="c"># by height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">blockByHeight</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">blockHeight</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">blockByHash</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">blockHash</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"By height: \n"</span><span class="p">,</span> <span class="nx">blockByHeight</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"By hash: \n"</span><span class="p">,</span> <span class="nx">blockByHash</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae99a76a7de09b955515014d632e70af82e504dab9f8278387ffd0d6a4caa890"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"prevBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695e315d274ec2de4d050ef63d497a2cbaf8103bbed0c559d5ac45d840015be5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleRoot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessRoot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2521e8ab766ec523a97c6f0acb48d36b5b0684dc5e1cfd5e3cd703eb2d8386e8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treeRoot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528315264</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">545259519</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0400000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"solution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="mi">41</span><span class="p">,</span><span class="w">
    </span><span class="mi">56</span><span class="p">,</span><span class="w">
    </span><span class="mi">125</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"txs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2521e8ab766ec523a97c6f0acb48d36b5b0684dc5e1cfd5e3cd703eb2d8386e8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528316209</span><span class="p">,</span><span class="w">
      </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"6d696e65642062792068736b64"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0569cfb705858fae"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0000000000000000"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">368430654</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000010000000000000000000000000000000000000000000000000000000000000000ffffffff030d6d696e65642062792068736b64080569cfb705858fae0800000000000000003ecef515010065cd1d0000000000140f1fa7047677f37a78bbe0f28be3b095f85e3919000001000000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns block info by block hash or height.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /block/:blockhashOrHeight</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:blockhashOrHeight</td>
<td>Hash or Height of block</td>
</tr>
</tbody></table>
<h2 id='broadcast-transaction'>Broadcast transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">tx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">tx</span><span class="o">=</span><span class="s1">'010000000106b014e37704109fefe2c5c9f4227d68840c3497fc89a9832db8504df039a6c7000000006a47304402207dc8173fbd7d23c3950aaf91b1bc78c0ed9bf910d47a977b24a8478a91b28e69022024860f942a16bc67ec54884e338b5b87f4a9518a80f9402564061a3649019319012103cb25dc2929ea58675113e60f4c08d084904189ab44a9a142179684c6cdd8d46affffffff0280c3c901000000001976a91400ba915c3d18907b79e6cfcd8b9fdf69edc7a7db88acc41c3c28010000001976a91437f306a0154e1f0de4e54d6cf9d46e07722b722688ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/broadcast <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "tx": "'</span><span class="nv">$tx</span><span class="s1">'" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli broadcast <span class="nv">$tx</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Broadcast a transaction by adding it to the node&#39;s mempool. If mempool verification fails, the node will still forcefully advertise and relay the transaction for the next 60 seconds.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /broadcast</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tx</td>
<td>transaction hash</td>
</tr>
</tbody></table>
<h1 id='hsd-coins'>hsd - Coins</h1>
<p>Getting coin information via API.</p>

<p><em>Coin stands for UTXO</em></p>

<aside class="info">
You need to enable <code>index-address</code> in order to lookup coins by address.<br>
You can also enable <code>index-tx</code> to lookup transactions by txid.<br>
Launch the hsd daemon with these arguments:<br>
<code>hsd --daemon --index-address=true --index-tx=true</code><br>
These index arguments cannot be changed once hsd has been started for the first time, without resyncing the node.
</aside>
<h2 id='get-coin-by-outpoint'>Get coin by Outpoint</h2>
<aside class="info">
This API call is always available regardless indexing options.
</aside>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nb">hash</span><span class="o">=</span><span class="s1">'7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709'</span>;
<span class="nv">index</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/<span class="nv">$hash</span>/<span class="nv">$index</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli coin <span class="nv">$hash</span> <span class="nv">$index</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get coin by outpoint (hash and index). Returns coin in hsd coin JSON format.
<code>value</code> is always expressed in subunits.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /coin/:hash/:index</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:hash</td>
<td>Hash of tx</td>
</tr>
<tr>
<td>:index</td>
<td>Output&#39;s index in tx</td>
</tr>
</tbody></table>
<h2 id='get-coins-by-address'>Get coins by address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/address/<span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli coin <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoinsByAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b24377e65d11eee09a19163882b3f4715e091fcb07336ae1e1a96ca8854b4326"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get coin objects array by address.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /coin/address/:address</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:address</td>
<td>handshake address</td>
</tr>
</tbody></table>
<h2 id='get-coins-by-addresses'>Get coins by addresses</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address0</span><span class="o">=</span><span class="s1">'rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5'</span>;
<span class="nv">address1</span><span class="o">=</span><span class="s1">'rs1qcxuurryemelaj64k6rswn8x9aa8nd9nafa47ag'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/address <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "addresses":[ "'</span><span class="nv">$address0</span><span class="s1">'", "'</span><span class="nv">$address1</span><span class="s1">'" ]}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>No CLI Option.
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoinsByAddresses</span><span class="p">([</span><span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qpu06wprkwleh579mureghcasjhu9uwge6pltn5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d142b878b7894fb916280d0bee0b5c4f8970e1adbc9d1a2e9057a0b8187b709"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qcxuurryemelaj64k6rswn8x9aa8nd9nafa47ag"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b24377e65d11eee09a19163882b3f4715e091fcb07336ae1e1a96ca8854b4326"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>Get coins by addresses, returns array of coin objects.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /coin/address</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addresses</td>
<td>List of handshake addresses</td>
</tr>
</tbody></table>
<h1 id='hsd-transactions'>hsd - Transactions</h1>
<p>Getting transaction information via API.</p>

<aside class="info">
You need to enable <code>index-address</code> in order to lookup coins by address.<br>
You can also enable <code>index-tx</code> to lookup transactions by txid.<br>
Launch the hsd daemon with these arguments:<br>
<code>hsd --daemon --index-address=true --index-tx=true</code>
</aside>
<h2 id='get-tx-by-txhash'>Get tx by txhash</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'4674eb87021d9e07ff68cfaaaddfb010d799246b8f89941c58b8673386ce294f'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/tx/<span class="nv">$txhash</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli tx <span class="nv">$txhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTX</span><span class="p">(</span><span class="nx">txhash</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4674eb87021d9e07ff68cfaaaddfb010d799246b8f89941c58b8673386ce294f"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"337189c003cf9c2ea413b5b6041c5b9e62f5fdfafcdd6cb54d5829c6cd59dd77"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329716</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c801"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"02deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qx38r5mjzlxfus9yx7nhx3mrg00sv75xc5mksk5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000012277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b000000000241ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c8012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600001079d717000000000014344e3a6e42f993c81486f4ee68ec687be0cf50d8000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET /tx/:txhash</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:txhash</td>
<td>Hash of tx.</td>
</tr>
</tbody></table>
<h2 id='get-tx-by-address'>Get tx by address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/tx/address/<span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli tx <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTXByAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4674eb87021d9e07ff68cfaaaddfb010d799246b8f89941c58b8673386ce294f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"337189c003cf9c2ea413b5b6041c5b9e62f5fdfafcdd6cb54d5829c6cd59dd77"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329716</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c801"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"02deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qx38r5mjzlxfus9yx7nhx3mrg00sv75xc5mksk5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000012277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b000000000241ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c8012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600001079d717000000000014344e3a6e42f993c81486f4ee68ec687be0cf50d8000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns transaction objects array by address</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /tx/address/:address</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:address</td>
<td>Handshake address.</td>
</tr>
</tbody></table>
<h2 id='get-tx-by-addresses'>Get tx by addresses</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address0</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>;
<span class="nv">address1</span><span class="o">=</span><span class="s1">'rs1qx38r5mjzlxfus9yx7nhx3mrg00sv75xc5mksk5'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code> curl <span class="nv">$url</span>/tx/address <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "addresses":[ "'</span><span class="nv">$address0</span><span class="s1">'", "'</span><span class="nv">$address1</span><span class="s1">'" ]}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>No CLI Option.
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTXByAddresses</span><span class="p">([</span><span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f64f1a1bea51883ef365ac5008656f0eecedfa58c0215e97a0f2c5046ebb73c0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f9429e86143084392a9d23d0680bf7570ddc7e2bfe51405d44a554dbad8ab51d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329693</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be818dc2e986f872118e2c4d2995d14beb03edada40a448d24daf7b62cc272cf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329693</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"6d696e65642062792068736b64"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"72bc06c17f58df4e"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"0000000000000000"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">816606577</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000010000000000000000000000000000000000000000000000000000000000000000ffffffff030d6d696e65642062792068736b640872bc06c17f58df4e080000000000000000716dac30010065cd1d000000000014f039bea7884a3e8568ed967ee1f830afd5cba990000003000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4674eb87021d9e07ff68cfaaaddfb010d799246b8f89941c58b8673386ce294f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"337189c003cf9c2ea413b5b6041c5b9e62f5fdfafcdd6cb54d5829c6cd59dd77"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329716</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c801"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"02deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qx38r5mjzlxfus9yx7nhx3mrg00sv75xc5mksk5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000012277cbd9dd1c2552f9998e6861c7fd6866b9a48fa94ec85f03697390e8fa5d4b000000000241ef5ae8c401a69123b69da2922514ff62a76a040abb615e79453ad8172a31916c65c82ecebf15d40678b3c749411908e9aaeed1785b23789c746e5f17d11bb4c8012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600001079d717000000000014344e3a6e42f993c81486f4ee68ec687be0cf50d8000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns transaction objects array by addresses</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /tx/address</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addresses</td>
<td>array of handshake addresses</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-node'>RPC Calls - Node</h1><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "&lt;method&gt;", "params": [...] "id": "some-id" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc &lt;method&gt; &lt;params&gt;
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'&lt;method&gt;'</span><span class="p">,</span> <span class="p">[</span> <span class="o">&lt;</span><span class="nx">params</span><span class="o">&gt;</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above cURL command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="err">resultObject</span><span class="w"> </span><span class="p">,</span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="err">errorObject</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="err">passedID</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Further examples will only include &quot;result&quot; part.
CLI and Javascript calls return just the &quot;result&quot; or an error.</p>
</blockquote>

<p>hsd RPC calls mimic Bitcoin Core&#39;s RPC.</p>

<p>RPC Calls are accepted at:
<code>POST /</code></p>

<p><em>Notes:</em></p>

<p><em>hsd-cli rpc and Javascript will either return an error OR the result.</em></p>

<p><em>Javascript result will return the &quot;result&quot; part of the object, not the id or error</em></p>

<p><em>If a Javascript error is encountered it will be thrown instead of returned in JSON</em></p>

<p><em>Be sure to check the debug log for error reports as well!</em></p>
<h3 id='post-parameters-rpc'>POST Parameters RPC</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>Name of the RPC call</td>
</tr>
<tr>
<td>params</td>
<td>Parameters accepted by method</td>
</tr>
<tr>
<td>id</td>
<td><code>int</code> Will be returned with the response (cURL only)</td>
</tr>
</tbody></table>
<h2 id='stop'>stop</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "stop" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc stop
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'stop'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Stopping."</span><span class="w">
</span></code></pre>
<p>Stops the running node.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getinfo'>getinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getinfo" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocolversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"walletversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connections"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"proxy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6565423739069247e-10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"testnet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keypoololdest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keypoolsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unlocked_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paytxfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002</span><span class="p">,</span><span class="w">
  </span><span class="s2">"relayfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns general info</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getmemoryinfo'>getmemoryinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getmemoryinfo" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmemoryinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmemoryinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">72</span><span class="p">,</span><span class="w">
  </span><span class="s2">"jsHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="s2">"jsHeapTotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nativeHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w">
  </span><span class="s2">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns Memory usage info.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='setloglevel'>setloglevel</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setloglevel",
    "params": [ "none" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc setloglevel none
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setloglevel'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'none'</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Change Log level of the running node.</p>

<p>Levels are: <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>, <code>INFO</code>, <code>DEBUG</code>, <code>SPAM</code></p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>level</td>
<td>Required</td>
<td>Level for the logger</td>
</tr>
</tbody></table>
<h2 id='validateaddress'>validateaddress</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "validateaddress",
    "params": [ "'</span><span class="nv">$address</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc validateaddress <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'validateaddress'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">address</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"isvalid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ismine"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iswatchonly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Validates address.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>address</td>
<td>Required</td>
<td>Address to validate</td>
</tr>
</tbody></table>
<h2 id='createmultisig'>createmultisig</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nrequired</span><span class="p">,</span> <span class="nx">pubkey0</span><span class="p">,</span> <span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nrequired</span><span class="o">=</span>2;
<span class="nv">pubkey0</span><span class="o">=</span><span class="s1">'02e3d6bb36b0261628101ee67abd89d678522dc1199912512f814e70803652f395'</span>;
<span class="nv">pubkey1</span><span class="o">=</span><span class="s1">'03d7ded41bb871936bf4d411371b25d706c572f28ef8d2613b45392e9f9c4348a5'</span>;
<span class="nv">pubkey2</span><span class="o">=</span><span class="s1">'034bc2280e68d3bdd0ef0664e0ad2949a467344d8e59e435fe2d9be81e39f70f76'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "createmultisig",
    "params": [ '</span><span class="nv">$nrequired</span><span class="s1">', [ "'</span><span class="nv">$pubkey0</span><span class="s1">'", "'</span><span class="nv">$pubkey1</span><span class="s1">'", "'</span><span class="nv">$pubkey2</span><span class="s1">'" ] ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc createmultisig <span class="nv">$nrequired</span> <span class="s1">'[ "'</span><span class="nv">$pubkey0</span><span class="s1">'", "'</span><span class="nv">$pubkey1</span><span class="s1">'", "'</span><span class="nv">$pubkey2</span><span class="s1">'" ]'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'createmultisig'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nrequired</span><span class="p">,</span> <span class="p">[</span> <span class="nx">pubkey0</span><span class="p">,</span> <span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span> <span class="p">]</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qlt977782vv7xxy45xgp9yzhtp90v6e5az9p05q7q8d2072m77xese5xxfl"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redeemScript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"522102e3d6bb36b0261628101ee67abd89d678522dc1199912512f814e70803652f39521034bc2280e68d3bdd0ef0664e0ad2949a467344d8e59e435fe2d9be81e39f70f762103d7ded41bb871936bf4d411371b25d706c572f28ef8d2613b45392e9f9c4348a553ae"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>create multisig address</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nrequired</td>
<td>Required</td>
<td>Required number of approvals for spending</td>
</tr>
<tr>
<td>2</td>
<td>keyArray</td>
<td>Required</td>
<td>Array of public keys</td>
</tr>
</tbody></table>
<h2 id='signmessagewithprivkey'>signmessagewithprivkey</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">privkey</span><span class="p">,</span> <span class="nx">message</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">privkey</span><span class="o">=</span><span class="s1">'ENced8VD7YWkzPC8FTJ3gTTq4pQhF2PF79QS51mgZq7BgCfiEP5A'</span>;
<span class="nv">message</span><span class="o">=</span><span class="s1">'hello'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "signmessagewithprivkey",
    "params": [ "'</span><span class="nv">$privkey</span><span class="s1">'", "'</span><span class="nv">$message</span><span class="s1">'"]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc signmessagewithprivkey <span class="nv">$privkey</span> <span class="nv">$message</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'signmessagewithprivkey'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">privkey</span><span class="p">,</span> <span class="nx">message</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"arjD5y4glPea270IiExx04E+tTvryHKhWZcA2oy8svVHr9q/AvGA647UF2ICaIGJHazbRyyj3draiNnBns9aWQ=="</span><span class="w">
</span></code></pre>
<p>Signs message with private key. 
<aside>Note: Due to behavior of some shells like bash, if your message contains spaces you may need to add additional quotes like this: <code>&quot;&#39;&quot;$message&quot;&#39;&quot;</code></aside></p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>privkey</td>
<td>Required</td>
<td>Private key</td>
</tr>
<tr>
<td>1</td>
<td>message</td>
<td>Required</td>
<td>Message you want to sign.</td>
</tr>
</tbody></table>
<h2 id='verifymessage'>verifymessage</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span><span class="p">,</span> <span class="nx">message</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc'</span>;
<span class="nv">signature</span><span class="o">=</span><span class="s1">'arjD5y4glPea270IiExx04E+tTvryHKhWZcA2oy8svVHr9q/AvGA647UF2ICaIGJHazbRyyj3draiNnBns9aWQ=='</span>;
<span class="nv">message</span><span class="o">=</span><span class="s1">'hello'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifymessage",
    "params": [ "'</span><span class="nv">$address</span><span class="s1">'", "'</span><span class="nv">$signature</span><span class="s1">'", "'</span><span class="nv">$message</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc verifymessage <span class="nv">$address</span> <span class="nv">$signature</span> <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifymessage'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span><span class="p">,</span> <span class="nx">message</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Verify signature.
<aside>Note: Due to behavior of some shells like bash, if your message contains spaces you may need to add additional quotes like this: <code>&quot;&#39;&quot;$message&quot;&#39;&quot;</code></aside></p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>address</td>
<td>Required</td>
<td>Address of the signer</td>
</tr>
<tr>
<td>2</td>
<td>signature</td>
<td>Required</td>
<td>Signature of signed message</td>
</tr>
<tr>
<td>3</td>
<td>message</td>
<td>Required</td>
<td>Message that was signed</td>
</tr>
</tbody></table>
<h2 id='setmocktime'>setmocktime</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">timestamp</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">timestamp</span><span class="o">=</span>1503058155;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setmocktime",
    "params": [ '</span><span class="nv">$timestamp</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc setmocktime <span class="nv">$timestamp</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setmocktime'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">timestamp</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Changes network time (This is consensus-critical)</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>timestamp</td>
<td>Required</td>
<td>timestamp to change to</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-names'>RPC Calls - Names</h1><h2 id='getnameinfo'>getnameinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getnameinfo", "params": [ '</span>pi<span class="s1">'] }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getnameinfo pi
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnameinfo'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'pi'</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>getnameinfo returns JSON structured like this: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"reserved"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w"> 
      </span><span class="s2">"week"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start"</span><span class="p">:</span><span class="mi">3024</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nameHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512da52b8aba40722262447a53ff36f1ab854a5dd1ea1bf92d0aed18a50ebca9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">7203</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"renewal"</span><span class="p">:</span><span class="w"> </span><span class="mi">14636</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47510cf5ba035cfc97f3e2e6cbe9c06e536fa87e81350343d30f2d021dc1dd36"</span><span class="p">,</span><span class="w"> 
      </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"highest"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000a8030a526567697374657265640477697468086e616d656261736501344765080d0980208120822e696f2f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transfer"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"revoked"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"weak"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"renewalPeriodStart"</span><span class="p">:</span><span class="w"> </span><span class="mi">14636</span><span class="p">,</span><span class="w">
      </span><span class="s2">"renewalPeriodEnd"</span><span class="p">:</span><span class="w"> </span><span class="mi">23276</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blocksUntilExpire"</span><span class="p">:</span><span class="w"> </span><span class="mi">6154</span><span class="p">,</span><span class="w">
      </span><span class="s2">"daysUntilExpire"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.37</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information on a given name. </p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Required</td>
<td>Name you wish to look up</td>
</tr>
</tbody></table>
<h3 id='return-values'>Return values</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reserved</td>
<td>Boolean</td>
<td>true if the name is pre-reserved for it&#39;s existing owner to claim via DNSSEC proof.</td>
</tr>
<tr>
<td>week</td>
<td>int</td>
<td>estimated number of weeks after mainnet launch that name will become available (if not reserved)</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>exact block number that name will become available for bidding (if not reserved)</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>the current auction state of the name (BIDDING, CLOSED)</td>
</tr>
<tr>
<td>height</td>
<td>int</td>
<td>block height at which auction closed</td>
</tr>
<tr>
<td>renewal</td>
<td>int</td>
<td>block height at which rewnewal period begins</td>
</tr>
<tr>
<td>owner</td>
<td>int</td>
<td>UTXO to which the name belongs</td>
</tr>
<tr>
<td>value</td>
<td>int</td>
<td>penultimate bid amount, paid by winner</td>
</tr>
<tr>
<td>highest</td>
<td>int</td>
<td>highest bid amount, made by winner</td>
</tr>
<tr>
<td>data</td>
<td>serialized</td>
<td>the dns record data of the name stored on chain</td>
</tr>
<tr>
<td>transfer</td>
<td>??</td>
<td>??</td>
</tr>
<tr>
<td>revoked</td>
<td>??</td>
<td>??</td>
</tr>
<tr>
<td>claimed</td>
<td>boolean</td>
<td>true if the name was reserved and then unlocked and claimed via DNSSEC proof.</td>
</tr>
<tr>
<td>weak</td>
<td>??</td>
<td>??</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-names'>RPC Calls - Names</h1><h2 id='sendopen'>sendopen</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "sendopen", "params": [ "clevertld" ] }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc sendopen clevertld
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'sendopen'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'clevertld'</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>sendopen returns JSON structured like this: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">branch</span><span class="w"> </span><span class="err">master</span><span class="w">
 </span><span class="p">{</span><span class="w">
   </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08011cb959cae5bb4765a472a65335c7afaac27a38fb18c6adb28de0ebfa9670"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9be4332d43a53204a8bfefcaeef12a0537b72b970dfb5c1076847d4a2e849897"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1536864475</span><span class="p">,</span><span class="w">
   </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3f2813634cc5dce6553bc75f9d7d308183ec5a06b0be8beb4a6d0bd78dc631ba"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="s2">"464150741b5c4f8a6d73bcc7272d48872fe4bc7f87f07a29eab2a977a5b4b94c3d91ee7965f5f58bea2001f973b4cac5338d5bec48b0523f2581d3d49cdf3ff801"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"030312902ef93a76f098f4052e89f6123aabdfa95bb369ddb1bd2680ed57fba938"</span><span class="w">
       </span><span class="p">],</span><span class="w">
       </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qfgehgngqhhz8vh0mg9zv0a9ftd35lgmaarpn42"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qsghg5sdmzqn24wh8slcjz40c7p93829her4let"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
           </span><span class="s2">"a987c9575123c2f7bbef2518ab99f9b09338844049e2bed193192efd4d2e7bc3"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"00000000"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"61726561"</span><span class="w">
         </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4992660</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qdgy8adnmpsleky5e6cmejkt3zat2trgc3q392f"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000013f2813634cc5dce6553bc75f9d7d308183ec5a06b0be8beb4a6d0bd78dc631ba01000000ffffffff0200000000000000000014822e8a41bb1026aabae787f12155f8f04b13a8b7020320a987c9575123c2f7bbef2518ab99f9b09338844049e2bed193192efd4d2e7bc304000000000461726561942e4c0000000000
 00146a087eb67b0c3f9b1299d6379959711756a58d180000000000000241464150741b5c4f8a6d73bcc7272d48872fe4bc7f87f07a29eab2a977a5b4b94c3d91ee7965f5f58bea2001f973b4cac5338d5bec48b0523f2581d3d49cdf3ff80121030312902ef93a76f098f4052e89f6123aabdfa95bb369ddb1bd2680ed57fba938"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once we know the name is available, a sendopen transaction is necessary to start the bidding process.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Required</td>
<td>The name for which you want to begin bidding (must be available).</td>
</tr>
</tbody></table>
<h2 id='sendbid'>sendbid</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "sendbid", "params": [ "clevertld", 5, 10 ] }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc sendbid clevertld 5 10
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'sendbid'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'clevertld'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>sendbid returns JSON structured like this: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fdf46c5f33bd6b5e638969ba0cf286027611736f41e9c8974b69900cbfca1ee"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66f0f4d5df22fbc89de7b631297586b948a04a335f52f36806aba9e7f53579e7"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1536865252</span><span class="p">,</span><span class="w">
   </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eec7a5bfaf5079b9461512901e36097c0a55b6208c814da1d6762caabba634da"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="s2">"cc882ffb0f255721066ffeae201c3940400f51d867febf36a0d6a297e3277c9c57832ec60eeb9e5fbbb2b4085851b28a05274f56bf1096e12df528083343a0d601"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"035f91fb8083568ee39045fd37b53450c4f1f3326209ff03753052b733d2abae42"</span><span class="w">
       </span><span class="p">],</span><span class="w">
       </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qud8mlqe0f2lz7xcd2jdsejyrs4h6ghn8mtxpm0"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qrdzp7ef9kasxjwlnfs7wt0sk9kmdfxl7xz6txd"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
         </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BID"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
           </span><span class="s2">"f2e9068ee49346a66066ad4fa31b46a966862f1315fc97766a70cdd901f56481"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"e0410000"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"686f6c64"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"986328f636dd8450f9e0b570e75357ef617703f1cdcd69920ebe91dcd0e75044"</span><span class="w">
         </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4784620</span><span class="p">,</span><span class="w">
       </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1qsp8j82jc7yw7y9g2393n78trfq94g20h4lphaf"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001eec7a5bfaf5079b9461512901e36097c0a55b6208c814da1d6762caabba634da01000000ffffffff02400d03000000000000141b441f6525b760693bf34c3ce5be162db6d49bfe030420f2e9068ee49346a66066ad4fa31b46a966862f1315fc97766a70cdd901f5648104e041000004686f6c6420986328f636dd84
 50f9e0b570e75357ef617703f1cdcd69920ebe91dcd0e75044ec014900000000000014804f23aa58f11de2150a89633f1d63480b5429f70000000000000241cc882ffb0f255721066ffeae201c3940400f51d867febf36a0d6a297e3277c9c57832ec60eeb9e5fbbb2b4085851b28a05274f56bf1096e12df528083343a0d60121035f91fb80
 83568ee39045fd37b53450c4f1f3326209ff03753052b733d2abae42"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once bidding is opened we can place masked bids on a name using sendbid.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Required</td>
<td>The name for which you want to begin bidding (must be available).</td>
</tr>
<tr>
<td>amount</td>
<td>Required</td>
<td>Amount of HNS you wish to bid (denominated in HNS, decimal amounts allowed)</td>
</tr>
<tr>
<td>lockup</td>
<td>Required</td>
<td>Amount of HNS you wish to lockup to mask your bid. Must be greater than bid amount.</td>
</tr>
</tbody></table>
<h2 id='getauctioninfo'>getauctioninfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getauctioninfo", "params": [ "clevertld" ] }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getauctioninfo clevertld
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getauctioninfo'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'clevertld'</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>getuactioninfo returns JSON structured like this: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clevertld"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nameHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f2e9068ee49346a66066ad4fa31b46a966862f1315fc97766a70cdd901f56481"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BIDDING"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">16864</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewal"</span><span class="p">:</span><span class="w"> </span><span class="mi">16864</span><span class="p">,</span><span class="w">
  </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"highest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transfer"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"revoked"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weak"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bidPeriodStart"</span><span class="p">:</span><span class="w"> </span><span class="mi">16937</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bidPeriodEnd"</span><span class="p">:</span><span class="w"> </span><span class="mi">17225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blocksUntilReveal"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hoursUntilReveal"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.58</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clevertld"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nameHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f2e9068ee49346a66066ad4fa31b46a966862f1315fc97766a70cdd901f56481"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fdf46c5f33bd6b5e638969ba0cf286027611736f41e9c8974b69900cbfca1ee"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lockup"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"986328f636dd8450f9e0b570e75357ef617703f1cdcd69920ebe91dcd0e75044"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"own"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clevertld"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nameHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f2e9068ee49346a66066ad4fa31b46a966862f1315fc97766a70cdd901f56481"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde9cb868588203add46b6d7b11af475fe5dc9ef778872db5add26603fa683ce"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lockup"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e6e7963fc01c88ea18a3604e25810b0fb576d2713cee5faec59c3b676973aff0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"own"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"reveals"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once bidding is in progress we can monitor the auction using getauctioninfo.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Required</td>
<td>The name for which you want auction info.</td>
</tr>
</tbody></table>
<h2 id='sendreveal'>sendreveal</h2><h2 id='sendredeem'>sendredeem</h2><h2 id='sendupdate'>sendupdate</h2><h2 id='sendrenewal'>sendrenewal</h2><h1 id='rpc-calls-chain'>RPC Calls - Chain</h1><h2 id='pruneblockchain'>pruneblockchain</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "pruneblockchain",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc pruneblockchain
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'pruneblockchain'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Prunes the blockchain, it will keep blocks specified in Network Configurations.</p>
<h3 id='default-prune-options'>Default Prune Options</h3>
<table><thead>
<tr>
<th>Network</th>
<th>keepBlocks</th>
<th>pruneAfter</th>
</tr>
</thead><tbody>
<tr>
<td>main</td>
<td>288</td>
<td>1000</td>
</tr>
<tr>
<td>testnet</td>
<td>10000</td>
<td>1000</td>
</tr>
<tr>
<td>regtest</td>
<td>10000</td>
<td>1000</td>
</tr>
</tbody></table>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='invalidateblock'>invalidateblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'52d7beaf4c7f392bef2744167c7f4db4bb4113b2635496edcf2d1c94128696aa'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "invalidateblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc invalidateblock <span class="nv">$blockhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'invalidateblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Invalidates the block in the chain.
It will rewind network to blockhash and invalidate it.</p>

<p>It won&#39;t accept that block as valid.
<em>Invalidation will work while running, restarting node will remove invalid block from list.</em></p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Block&#39;s hash</td>
</tr>
</tbody></table>
<h2 id='reconsiderblock'>reconsiderblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'1896e628f8011b77ea80f4582c29c21b3376183683f587ee863050376add3891'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "reconsiderblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc reconsiderblock <span class="nv">$blockhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'reconsiderblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This rpc command will remove block from invalid block set.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Block&#39;s hash</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-block'>RPC Calls - Block</h1><h2 id='getblockchaininfo'>getblockchaininfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getblockchaininfo" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblockchaininfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockchaininfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"headers"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bestblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be818dc2e986f872118e2c4d2995d14beb03edada40a448d24daf7b62cc272cf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6565423739069247e-10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329686</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verificationprogress"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9939113782090621</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000008"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pruned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"softforks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"testdummy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defined"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bit"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pruneheight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns blockchain information.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getbestblockhash'>getbestblockhash</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getbestblockhash" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getbestblockhash
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getbestblockhash'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"498d003ecfc60ee829cdc3640dc305583057d88e2c38a7d57dbe0f92aa2bb512"</span><span class="w">
</span></code></pre>
<p>Returns Block Hash of the tip.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblockcount'>getblockcount</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getblockcount" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblockcount
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockcount'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">98</span><span class="w">
</span></code></pre>
<p>Returns block count.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblock'>getblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">details</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'c90f06860f712acf8ff1a79b5697644263470a9a7fd91273e34cb121c7a2b4cd'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
<span class="nv">details</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'", '</span><span class="nv">$verbose</span><span class="s1">', '</span><span class="nv">$details</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblock <span class="nv">$blockhash</span> <span class="nv">$verbose</span> <span class="nv">$details</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">,</span> <span class="nx">details</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c90f06860f712acf8ff1a79b5697644263470a9a7fd91273e34cb121c7a2b4cd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strippedsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">264</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1089</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a46ce951a4239596405d8bcc3a12a20a43978f57e8cb2ef0cf29611d8a25d51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treeroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"solution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="mi">112</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"6d696e65642062792068736b64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"8d8679b7393cc0ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0000000000000000"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">545259519</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6565423739069247e-10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000004"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695e315d274ec2de4d050ef63d497a2cbaf8103bbed0c559d5ac45d840015be5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11f9987bd778436df43e287582c5c76e1d3689dd28a8d5f3cf097124abdbf61f"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about block.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Hash of the block</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block</td>
</tr>
<tr>
<td>3</td>
<td>details</td>
<td>false</td>
<td>If set to true, it will return transaction details too.</td>
</tr>
</tbody></table>
<h2 id='getblockbyheight'>getblockbyheight</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">details</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockheight</span><span class="o">=</span>1;
<span class="nv">verbose</span><span class="o">=</span>1;
<span class="nv">details</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockbyheight",
    "params": [ '</span><span class="nv">$blockheight</span><span class="s1">', '</span><span class="nv">$verbose</span><span class="s1">', '</span><span class="nv">$details</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblockbyheight <span class="nv">$blockheight</span> <span class="nv">$verbose</span> <span class="nv">$details</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockbyheight'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockheight</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">,</span> <span class="nx">details</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c90f06860f712acf8ff1a79b5697644263470a9a7fd91273e34cb121c7a2b4cd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strippedsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">264</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1089</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a46ce951a4239596405d8bcc3a12a20a43978f57e8cb2ef0cf29611d8a25d51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treeroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"solution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="mi">112</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"6d696e65642062792068736b64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"8d8679b7393cc0ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0000000000000000"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">545259519</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6565423739069247e-10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000004"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695e315d274ec2de4d050ef63d497a2cbaf8103bbed0c559d5ac45d840015be5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11f9987bd778436df43e287582c5c76e1d3689dd28a8d5f3cf097124abdbf61f"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about block by height.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block.</td>
</tr>
<tr>
<td>3</td>
<td>details</td>
<td>false</td>
<td>If set to true, it will return transaction details too.</td>
</tr>
</tbody></table>
<h2 id='getblockhash'>getblockhash</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockheight</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockheight</span><span class="o">=</span>50;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockhash",
    "params": [ '</span><span class="nv">$blockheight</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblockhash <span class="nv">$blockheight</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockhash'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockheight</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"51726259de9560e1924f3cb554ad16e889b6170eb4d01d01f5a4ca8a81d1e318"</span><span class="w">
</span></code></pre>
<p>Returns block&#39;s hash given its height.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
</tbody></table>
<h2 id='getblockheader'>getblockheader</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'c90f06860f712acf8ff1a79b5697644263470a9a7fd91273e34cb121c7a2b4cd'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockheader",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'", '</span><span class="nv">$details</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblockheader <span class="nv">$blockhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockheader'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c90f06860f712acf8ff1a79b5697644263470a9a7fd91273e34cb121c7a2b4cd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a46ce951a4239596405d8bcc3a12a20a43978f57e8cb2ef0cf29611d8a25d51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treeroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"solution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="mi">112</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329568</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">545259519</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.6565423739069247e-10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000004"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"695e315d274ec2de4d050ef63d497a2cbaf8103bbed0c559d5ac45d840015be5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11f9987bd778436df43e287582c5c76e1d3689dd28a8d5f3cf097124abdbf61f"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns a block&#39;s header given its hash.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block.</td>
</tr>
</tbody></table>
<h2 id='getchaintips'>getchaintips</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getchaintips"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getchaintips
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getchaintips'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Returns chaintips.</p>

<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be818dc2e986f872118e2c4d2995d14beb03edada40a448d24daf7b62cc272cf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branchlen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getdifficulty'>getdifficulty</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getdifficulty"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getdifficulty
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getdifficulty'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">1048576</span><span class="w">
</span></code></pre><h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='rpc-calls-mempool'>RPC Calls - Mempool</h1><h2 id='getmempoolinfo'>getmempoolinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolinfo"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmempoolinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">14120</span><span class="p">,</span><span class="w">
  </span><span class="s2">"usage"</span><span class="p">:</span><span class="w"> </span><span class="mi">14120</span><span class="p">,</span><span class="w">
  </span><span class="s2">"maxmempool"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mempoolminfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns informations about mempool.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getmempoolancestors'>getmempoolancestors</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolancestors",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", '</span><span class="nv">$verbose</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmempoolancestors <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolancestors'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">1</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103521</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">451</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">9080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"7922c798ea02c3957393bb7c373ba89e0a337d049564aeb64a9fd2b8d4998795"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103519</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">676</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">13620</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"d54e576d30f9014ffb06a31b9e36f2f5bb360e8c54980188ee4b09a979e092c2"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">0</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>returns all in-mempool ancestors for a transaction in the mempool.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns dependency tx info</td>
</tr>
</tbody></table>
<h2 id='getmempooldescendants'>getmempooldescendants</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'7922c798ea02c3957393bb7c373ba89e0a337d049564aeb64a9fd2b8d4998795'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempooldescendants",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", '</span><span class="nv">$verbose</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmempooldescendants <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempooldescendants'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">1</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103521</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">451</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">9080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"7922c798ea02c3957393bb7c373ba89e0a337d049564aeb64a9fd2b8d4998795"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103523</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">4540</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"e66c029a755d326f14cc32f485ea43e705ef59ed4a8061e8f47e681fbdefefea"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">[</span><span class="err">e</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">0</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="s2">"939a3b8485b53a718d89e7e4412473b3762fa1d9bbd555fc8b01e73be0ab1881"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>returns all in-mempool descendants for a transaction in the mempool.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns dependency tx info</td>
</tr>
</tbody></table>
<h2 id='getmempoolentry'>getmempoolentry</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolentry",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmempoolentry <span class="nv">$txhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolentry'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103523</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">4540</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"e66c029a755d326f14cc32f485ea43e705ef59ed4a8061e8f47e681fbdefefea"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>returns mempool transaction info by its hash.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction Hash</td>
</tr>
</tbody></table>
<h2 id='getrawmempool'>getrawmempool</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getrawmempool",
    "params": [ '</span><span class="nv">$verbose</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getrawmempool <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getrawmempool'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">verbose</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"d54e576d30f9014ffb06a31b9e36f2f5bb360e8c54980188ee4b09a979e092c2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103516</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">2200000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">2200000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">901</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">18160</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"7922c798ea02c3957393bb7c373ba89e0a337d049564aeb64a9fd2b8d4998795"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527103519</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">676</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">13620</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"d54e576d30f9014ffb06a31b9e36f2f5bb360e8c54980188ee4b09a979e092c2"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns mempool detailed information (on verbose).
Or mempool tx list.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns full tx info</td>
</tr>
</tbody></table>
<h2 id='prioritisetransaction'>prioritisetransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">priorityDelta</span><span class="p">,</span> <span class="nx">feeDelta</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8'</span>;
<span class="nv">priorityDelta</span><span class="o">=</span>1000;
<span class="nv">feeDelta</span><span class="o">=</span>1000;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "prioritisetransaction",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", '</span><span class="nv">$priorityDelta</span><span class="s1">', '</span><span class="nv">$feeDelta</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc prioritisetransaction <span class="nv">$txhash</span> <span class="nv">$priorityDelta</span> <span class="nv">$feeDelta</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'prioritisetransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">priorityDelta</span><span class="p">,</span> <span class="nx">feeDelta</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Prioritises the transaction.</p>

<p><em>Note: changing fee or priority will only trick local miner (using this mempool)
into accepting Transaction(s) into the block. (even if Priority/Fee doen&#39;t qualify)</em></p>

<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>priority delta</td>
<td>Required</td>
<td>Virtual priority to add/subtract to the entry</td>
</tr>
<tr>
<td>3</td>
<td>fee delta</td>
<td>Required</td>
<td>Virtual fee to add/subtract to the entry</td>
</tr>
</tbody></table>
<h2 id='estimatefee'>estimatefee</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatefee",
    "params": [ '</span><span class="nv">$nblocks</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc estimatefee <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatefee'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">0.001</span><span class="w">
</span></code></pre>
<p>Estimates fee to be paid for transaction.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatepriority'>estimatepriority</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatepriority",
    "params": [ '</span><span class="nv">$nblocks</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc estimatepriority <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatepriority'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">718158904.3501</span><span class="w">
</span></code></pre>
<p>estimates the priority (coin age) that a transaction needs in order to be included within a certain number of blocks as a free high-priority transaction.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatesmartfee'>estimatesmartfee</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatesmartfee",
    "params": [ '</span><span class="nv">$nblocks</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc estimatesmartfee <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatesmartfee'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Estimates smart fee to be paid for transaction.</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatesmartpriority'>estimatesmartpriority</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatesmartpriority",
    "params": [ '</span><span class="nv">$nblocks</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc estimatesmartpriority <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatesmartpriority'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mf">718158904.3501</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>estimates smart priority (coin age) that a transaction needs in order to be included within a certain number of blocks as a free high-priority transaction.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-transactions'>RPC Calls - Transactions</h1><h2 id='gettxout'>gettxout</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">includemempool</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3'</span>;
<span class="nv">index</span><span class="o">=</span>0;
<span class="nv">includemempool</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxout",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", '</span><span class="nv">$index</span><span class="s1">', '</span><span class="nv">$includemempool</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc gettxout <span class="nv">$txhash</span> <span class="nv">$index</span> <span class="nv">$includemempool</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxout'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">includemempool</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bestblock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be818dc2e986f872118e2c4d2995d14beb03edada40a448d24daf7b62cc272cf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f039bea7884a3e8568ed967ee1f830afd5cba990"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get outpoint of the transaction.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txid</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>index</td>
<td>Required</td>
<td>Index of the Outpoint tx.</td>
</tr>
<tr>
<td>3</td>
<td>includemempool</td>
<td>true</td>
<td>Whether to include mempool transactions.</td>
</tr>
</tbody></table>
<h2 id='gettxoutsetinfo'>gettxoutsetinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxoutsetinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc gettxoutsetinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxoutsetinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bestblock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0e11d85b2081b84e131ba6692371737e6bb2aa7bc6d16e92954ffb1f9ad762e5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bytes_serialized"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash_serialized"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about UTXO&#39;s from Chain.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getrawtransaction'>getrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3'</span>;
<span class="nv">verbose</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getrawtransaction",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", '</span><span class="nv">$verbose</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getrawtransaction <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"00000000010000000000000000000000000000000000000000000000000000000000000000ffffffff030d6d696e65642062792068736b64088d8679b7393cc0ac0800000000000000000bf6305f010065cd1d000000000014f039bea7884a3e8568ed967ee1f830afd5cba990000001000000"</span><span class="w">
</span></code></pre>
<p>Returns raw transaction</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>Returns json formatted if true</td>
</tr>
</tbody></table>
<h2 id='decoderawtransaction'>decoderawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'00000000010000000000000000000000000000000000000000000000000000000000000000ffffffff030d6d696e65642062792068736b64088d8679b7393cc0ac0800000000000000000bf6305f010065cd1d000000000014f039bea7884a3e8568ed967ee1f830afd5cba990000001000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "decoderawtransaction",
    "params": [ "'</span><span class="nv">$rawtx</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc decoderawtransaction <span class="nv">$rawtx</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'decoderawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a46ce951a4239596405d8bcc3a12a20a43978f57e8cb2ef0cf29611d8a25d51"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vin"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vout"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txinwitness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"6d696e65642062792068736b64"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8d8679b7393cc0ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0000000000000000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">1597044235</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vout"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f039bea7884a3e8568ed967ee1f830afd5cba990"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"blockhash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Decodes raw tx and provide chain info.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>Raw transaction hex</td>
</tr>
</tbody></table>
<h2 id='decodescript'>decodescript</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">script</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">script</span><span class="o">=</span><span class="s1">'76c014af92ad98c7f77559f96430dfef2a6805b87b24f888ac'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "decodescript",
    "params": [ "'</span><span class="nv">$script</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc decodescript <span class="nv">$script</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'decodescript'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">script</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OP_DUP OP_BLAKE160 af92ad98c7f77559f96430dfef2a6805b87b24f8 OP_EQUALVERIFY OP_CHECKSIG"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUBKEYHASH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reqSigs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"p2sh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qvgmuatludu5kp2tustj6pv0yq327udqppvwans6grpm6pzp5t9mqwn05ud"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Decodes script</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>script</td>
<td>Required</td>
<td>Script hex</td>
</tr>
</tbody></table>
<h2 id='sendrawtransaction'>sendrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'0100000001eaefefbd1f687ef4e861804aed59ef05e743ea85f432cc146f325d759a026ce6010000006a4730440220718954e28983c875858b5a0094df4607ce2e7c6e9ffea47f3876792b01755c1202205e2adc7c32ff64aaef6d26045f96181e8741e560b6f3a8ef2f4ffd2892add656012103142355370728640592109c3d2bf5592020a6b9226303c8bc98ab2ebcadf057abffffffff02005a6202000000001976a914fe7e0711287688b33b9a5c239336c4700db34e6388ac10ca0f24010000001976a914af92ad98c7f77559f96430dfef2a6805b87b24f888ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "sendrawtransaction",
    "params": [ "'</span><span class="nv">$rawtx</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc sendrawtransaction <span class="nv">$rawtx</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'sendrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8"</span><span class="w">
</span></code></pre>
<p>Sends raw transaction without verification</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>Raw transaction hex</td>
</tr>
</tbody></table>
<h2 id='createrawtransaction'>createrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">txindex</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">data</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3'</span>;
<span class="nv">txindex</span><span class="o">=</span>0;
<span class="nv">amount</span><span class="o">=</span>1;
<span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "createrawtransaction",
    "params": [
      [{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": '</span><span class="nv">$txindex</span><span class="s1">' }],
      { "'</span><span class="nv">$address</span><span class="s1">'": '</span><span class="nv">$amount</span><span class="s1">', "data": "'</span><span class="nv">$data</span><span class="s1">'" }
    ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc createrawtransaction <span class="se">\</span>
  <span class="s1">'[{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": '</span><span class="nv">$txindex</span><span class="s1">' }]'</span> <span class="se">\</span>
  <span class="s1">'{ "'</span><span class="nv">$address</span><span class="s1">'": '</span><span class="nv">$amount</span><span class="s1">', "data": "'</span><span class="nv">$data</span><span class="s1">'" }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">sendTo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span>
  <span class="p">};</span>
  <span class="nx">sendTo</span><span class="p">[</span><span class="nx">address</span><span class="p">]</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'createrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="p">[{</span> <span class="na">txid</span><span class="p">:</span> <span class="nx">txhash</span><span class="p">,</span> <span class="na">vout</span><span class="p">:</span> <span class="nx">txindex</span> <span class="p">}],</span> <span class="nx">sendTo</span><span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"0100000001e8d187daf94405848c2446bde3689be4ebc93dd103748e388b7c7655660d690e0100000000ffffffff02608a0e24010000001976a914c1325e8fb60bd71d23532c39b4c9e743a2cc764988ac0000000000000000026a0000000000"</span><span class="w">
</span></code></pre>
<aside class="info">
Note: Transaction in example doesn't specify change output,
you can do it by specifying another <code>address: amount</code> pair.
</aside>

<aside class="warning">
Amounts are expressed in FULL HNS (not subunits) in all three interface methods.
</aside>

<p>Creates raw, unsigned transaction without any formal verification.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>outpoints</td>
<td>Required</td>
<td>Outpoint list</td>
</tr>
<tr>
<td>1.1</td>
<td>txid</td>
<td></td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>1.2</td>
<td>vout</td>
<td></td>
<td>Transaction Outpoint Index</td>
</tr>
<tr>
<td>1.3</td>
<td>sequence</td>
<td></td>
<td>Sequence number for input</td>
</tr>
<tr>
<td>2</td>
<td>sendto</td>
<td>Required</td>
<td>Map of addresses we are sending to with amounts as values.</td>
</tr>
<tr>
<td>2.1</td>
<td>address</td>
<td>0</td>
<td><code>address: amount</code> key pairs (<em>string</em>: <em>float</em>)</td>
</tr>
<tr>
<td>3</td>
<td>locktime</td>
<td></td>
<td>earliest time a transaction can be added</td>
</tr>
</tbody></table>
<h2 id='signrawtransaction'>signrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">,</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">txindex</span><span class="p">,</span> <span class="nx">scriptPubKey</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">privkey</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'0000000001b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb30000000000ffffffff0240420f00000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600000000000000000000ff00000000000000'</span>;
<span class="nv">txhash</span><span class="o">=</span><span class="s1">'b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb3'</span>;
<span class="nv">txindex</span><span class="o">=</span>0;
<span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc'</span>;
<span class="nv">amount</span><span class="o">=</span>1;
<span class="nv">privkey</span><span class="o">=</span><span class="s1">'ENced8VD7YWkzPC8FTJ3gTTq4pQhF2PF79QS51mgZq7BgCfiEP5A'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "signrawtransaction",
    "params": [
      "'</span><span class="nv">$rawtx</span><span class="s1">'",
      [{
        "txid": "'</span><span class="nv">$txhash</span><span class="s1">'",
        "vout": '</span><span class="nv">$txindex</span><span class="s1">',
        "address": "'</span><span class="nv">$address</span><span class="s1">'",
        "amount": "'</span><span class="nv">$amount</span><span class="s1">'"
      }],
      [ "'</span><span class="nv">$privkey</span><span class="s1">'" ]
    ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc signrawtransaction <span class="nv">$rawtx</span> <span class="se">\</span>
  <span class="s1">'[{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": '</span><span class="nv">$txindex</span><span class="s1">', "scriptPubKey": "'</span><span class="nv">$scriptPubKey</span><span class="s1">'", "amount": '</span><span class="nv">$amount</span><span class="s1">' }]'</span> <span class="se">\</span>
  <span class="s1">'[ "'</span><span class="nv">$privkey</span><span class="s1">'" ]'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'signrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span><span class="p">,</span>
    <span class="p">[{</span>
      <span class="na">txid</span><span class="p">:</span> <span class="nx">txhash</span><span class="p">,</span>
      <span class="na">vout</span><span class="p">:</span> <span class="nx">txindex</span><span class="p">,</span>
      <span class="na">scriptPubKey</span><span class="p">:</span> <span class="nx">scriptPubKey</span><span class="p">,</span>
      <span class="na">amount</span><span class="p">:</span> <span class="nx">amount</span>
    <span class="p">}],</span>
    <span class="p">[</span> <span class="nx">privkey</span> <span class="p">]</span>
  <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0100000001e8d187daf94405848c2446bde3689be4ebc93dd103748e388b7c7655660d690e010000006a47304402205088870d469e5a878c54186e971cdc59d4e0c74f1c88709f584590ba76a9b97002202b4810a122fc4977e5a77c80dc68d4ffa73d22dbf385e46241dda6bddfd7993901210284a937f256393b3ba686556e90bd000706600bdbee4169abd092f392689307d2ffffffff02608a0e24010000001976a914c1325e8fb60bd71d23532c39b4c9e743a2cc764988ac0000000000000000026a0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Signs raw transaction</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>raw tx</td>
</tr>
<tr>
<td>2</td>
<td>inputs</td>
<td>Required</td>
<td>Coins you&#39;re going to spend</td>
</tr>
<tr>
<td>2.1</td>
<td>txid</td>
<td></td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>2.2</td>
<td>vout</td>
<td></td>
<td>Transaction Outpoint Index</td>
</tr>
<tr>
<td>2.3</td>
<td>address</td>
<td></td>
<td>Address which received the output you&#39;re going to sign</td>
</tr>
<tr>
<td>2.4</td>
<td>amount</td>
<td></td>
<td>Amount the output is worth</td>
</tr>
<tr>
<td>3</td>
<td>privkeylist</td>
<td></td>
<td>List of private keys</td>
</tr>
<tr>
<td>4</td>
<td>sighashtype</td>
<td></td>
<td>Type of signature hash</td>
</tr>
</tbody></table>
<h2 id='gettxoutproof'>gettxoutproof</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txid0</span><span class="p">,</span> <span class="nx">txid1</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txid0</span><span class="o">=</span><span class="s1">'0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8'</span>;
<span class="nv">txid1</span><span class="o">=</span><span class="s1">'e66c029a755d326f14cc32f485ea43e705ef59ed4a8061e8f47e681fbdefefea'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxoutproof",
    "params": [ ["'</span><span class="nv">$txid0</span><span class="s1">'", "'</span><span class="nv">$txid1</span><span class="s1">'"] ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc gettxoutproof <span class="s1">'[ "'</span><span class="nv">$txid0</span><span class="s1">'", "'</span><span class="nv">$txid1</span><span class="s1">'" ]'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxoutproof'</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="nx">txid0</span><span class="p">,</span> <span class="nx">txid1</span> <span class="p">]</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"00000020e562d79a1ffb4f95926ed1c67baab26b7e73712369a61b134eb881205bd8110ef08c63626ea13ca11fddad4f2c0a2b67354efdcd50f769b73330af205dcdd054cbd3055bffff7f20010000000500000004ae4be9cd199b09f605119820680eb23462746e98fbc2b0c635643f00b34c3cd8958799d4b8d29f4ab6ae6495047d330a9ea83b377cbb937395c302ea98c72279eaefefbd1f687ef4e861804aed59ef05e743ea85f432cc146f325d759a026ce6e8d187daf94405848c2446bde3689be4ebc93dd103748e388b7c7655660d690e02eb01"</span><span class="w">
</span></code></pre>
<p>Checks if transactions are within block.
Returns proof of transaction inclusion (raw MerkleBlock).</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txidlist</td>
<td>Required</td>
<td>array of transaction hashes</td>
</tr>
<tr>
<td>2</td>
<td>blockhash</td>
<td>Based on TX</td>
<td>Block hash</td>
</tr>
</tbody></table>
<h2 id='verifytxoutproof'>verifytxoutproof</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">proof</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">proof</span><span class="o">=</span><span class="s1">'00000020e562d79a1ffb4f95926ed1c67baab26b7e73712369a61b134eb881205bd8110ef08c63626ea13ca11fddad4f2c0a2b67354efdcd50f769b73330af205dcdd054cbd3055bffff7f20010000000500000004ae4be9cd199b09f605119820680eb23462746e98fbc2b0c635643f00b34c3cd8958799d4b8d29f4ab6ae6495047d330a9ea83b377cbb937395c302ea98c72279eaefefbd1f687ef4e861804aed59ef05e743ea85f432cc146f325d759a026ce6e8d187daf94405848c2446bde3689be4ebc93dd103748e388b7c7655660d690e02eb01'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifytxoutproof",
    "params": [ "'</span><span class="nv">$proof</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc verifytxoutproof <span class="nv">$proof</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifytxoutproof'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">proof</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"e66c029a755d326f14cc32f485ea43e705ef59ed4a8061e8f47e681fbdefefea"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"0e690d6655767c8b388e7403d13dc9ebe49b68e3bd46248c840544f9da87d1e8"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Checks the proof for transaction inclusion. Returns transaction hash if valid.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>proof</td>
<td>Required</td>
<td>Proof of transaction inclusion (raw MerkleBlock).</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-mining'>RPC Calls - Mining</h1>
<p><em>Note: many mining-related RPC calls require <code>hsd</code> to be started with the flag <code>--coinbase-address</code> designating a comma-separated list of payout addresses, randomly selected during block creation</em></p>
<h2 id='getnetworkhashps'>getnetworkhashps</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blocks</span><span class="p">,</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blocks</span><span class="o">=</span>120;
<span class="nv">height</span><span class="o">=</span>1000000;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnetworkhashps",
    "params": [ '</span><span class="nv">$blocks</span><span class="s1">', '</span><span class="nv">$height</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getnetworkhashps <span class="nv">$blocks</span> <span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnetworkhashps'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blocks</span><span class="p">,</span> <span class="nx">height</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">453742051556.55084</span><span class="w">
</span></code></pre>
<p>Returns the estimated current or historical network hashes per second, based on last <code>blocks</code>.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blocks</td>
<td>120</td>
<td>Number of blocks to lookup.</td>
</tr>
<tr>
<td>2</td>
<td>height</td>
<td>1</td>
<td>Starting height for calculations.</td>
</tr>
</tbody></table>
<h2 id='getmininginfo'>getmininginfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmininginfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getmininginfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmininginfo'</span><span class="p">,</span> <span class="p">[]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblocksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblockweight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblocktx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"genproclimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkhashps"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.766601909687916e-7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pooledtx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"testnet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"generate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Returns mining info.</p>

<p><em>Note: currentblocksize, currentblockweight, currentblocktx, difficulty are returned when there&#39;s active work.</em>
<em>generate - is true when <code>hsd</code> itself is mining.</em></p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getwork'>getwork</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getwork",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getwork
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getwork'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000ae127a29c02d7b13ed0a3d57f913392a7f8f82b50295970585cbfad8bc6577b23ce9a239a694cbea6345611ce9683894d2b2a277c8c939a237dc7f9d784880bf1497421d274050a429329682277a21a0e7410137c8ff1b93dff083c6a4885b48f57e593ae36828007cb731af13f68e3c33b39c81a126d921102baccd930ec13b4ff8195b00000000ffff7f200000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7fffff0000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528428623</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns hashing work to be solved by miner.
Or submits solved block.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>data</td>
<td></td>
<td>Data to be submitted to the network.</td>
</tr>
</tbody></table>
<h2 id='getworklp'>getworklp</h2><pre class="highlight shell tab-shell--curl"><code><span class="c"># Because there is a request timeout set on CLI http requests.</span>
<span class="c"># without manually adjusting the timeout (or receiving a new transaction on the current</span>
<span class="c"># network) this call will timeout before the request is complete.</span>
curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getworklp",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Because there is a request timeout set on CLI http requests.</span>
<span class="c"># without manually adjusting the timeout (or receiving a new transaction on the current</span>
<span class="c"># network) this call will timeout before the request is complete.</span>
hsd-cli rpc getworklp
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Because there is a request timeout set on CLI http requests.</span>
<span class="c1">// without manually adjusting the timeout (or receiving a new transaction on the current</span>
<span class="c1">// network) this call will timeout before the request is complete.</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getworklp'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000ae127a29c02d7b13ed0a3d57f913392a7f8f82b50295970585cbfad8bc6577b23ce9a239a694cbea6345611ce9683894d2b2a277c8c939a237dc7f9d784880bf1497421d274050a429329682277a21a0e7410137c8ff1b93dff083c6a4885b48f57e593ae36828007cb731af13f68e3c33b39c81a126d921102baccd930ec13b4ff8195b00000000ffff7f200000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7fffff0000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528428623</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Long polling for new work.</p>

<p>Returns new work, whenever new TX is received in the mempool or
new block has been discovered. So miner can restart mining on new data.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblocktemplate'>getblocktemplate</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblocktemplate",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getblocktemplate
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblocktemplate'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"proposal"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"mutable"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prevblock"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"vbavailable"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"vbrequired"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae127a29c02d7b13ed0a3d57f913392a7f8f82b50295970585cbfad8bc6577b2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3ce9a239a694cbea6345611ce9683894d2b2a277c8c939a237dc7f9d784880bf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treeroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f57e593ae36828007cb731af13f68e3c33b39c81a126d921102baccd930ec13b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7fffff0000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cuckoo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ease"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"207fffff"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"noncerange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffff"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"curtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528428826</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mintime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528329694</span><span class="p">,</span><span class="w">
  </span><span class="s2">"maxtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528436026</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528436026</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sigoplimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">80000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sizelimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weightlimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longpollid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae127a29c02d7b13ed0a3d57f913392a7f8f82b50295970585cbfad8bc6577b200000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"submitold"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbaseaux"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"flags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d696e65642062792068736b64"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"coinbasevalue"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>returns block template or proposal for use with mining.
Also validates proposal if <code>mode</code> is specified as <code>proposal</code>.</p>

<p><em>Note: This is described in
<a href="https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki">BIP22 - Fundamentals</a>,
<a href="https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki">BIP23 - Pooled Mining</a>,
<a href="https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki">BIP145 - Updates for Segregated Witness</a></em></p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>jsonrequestobject</td>
<td>{}</td>
<td>JSONRequestObject.</td>
</tr>
</tbody></table>
<h2 id='submitblock'>submitblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockdata</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockdata</span><span class="o">=</span><span class="s1">'000000203f6397a1442eb6a9901998c4a4b432f8573c7a490b2d5e6d6f2ad0d0fca25e2c56940d79c8f81f3eb5e998bcf79dbf8c7d3b13b01adaac526cf9df8ee385ec0c1ac0055bffff7f20000000000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff1f01640e6d696e65642062792062636f696e046c62c046080000000000000000ffffffff0100f2052a010000001976a91473815900ee35f3815b3407af2eeb1b611cf533d788ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "submitblock",
    "params": [ "'</span><span class="nv">$blockdata</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc submitblock <span class="nv">$blockdata</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'submitblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockdata</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Adds block to chain.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockdata</td>
<td>Required.</td>
<td>Mined block data (hex)</td>
</tr>
</tbody></table>
<h2 id='verifyblock'>verifyblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockdata</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockdata</span><span class="o">=</span><span class="s1">'000000203f6397a1442eb6a9901998c4a4b432f8573c7a490b2d5e6d6f2ad0d0fca25e2c56940d79c8f81f3eb5e998bcf79dbf8c7d3b13b01adaac526cf9df8ee385ec0c1ac0055bffff7f20000000000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff1f01640e6d696e65642062792062636f696e046c62c046080000000000000000ffffffff0100f2052a010000001976a91473815900ee35f3815b3407af2eeb1b611cf533d788ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifyblock",
    "params": [ "'</span><span class="nv">$blockdata</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc verifyblock <span class="nv">$blockdata</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Block data is old, so it should return error</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifyblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockdata</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Verifies the block data.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockdata</td>
<td>Required.</td>
<td>Mined block data (hex)</td>
</tr>
</tbody></table>
<h2 id='setgenerate'>setgenerate</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">mining</span><span class="p">,</span> <span class="nx">proclimit</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">mining</span><span class="o">=</span>1;
<span class="nv">proclimit</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setgenerate",
    "params": [ '</span><span class="nv">$mining</span><span class="s1">', '</span><span class="nv">$proclimit</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc setgenerate <span class="nv">$mining</span> <span class="nv">$proclimit</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setgenerate'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">mining</span><span class="p">,</span> <span class="nx">proclimit</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Will start the mining on CPU.</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>mining</td>
<td>0</td>
<td><code>true</code> will start mining, <code>false</code> will stop.</td>
</tr>
<tr>
<td>2</td>
<td>proclimit</td>
<td>0</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getgenerate'>getgenerate</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getgenerate",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getgenerate
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getgenerate'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Returns status of mining on Node.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<p>None.</p>
<h2 id='generate'>generate</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">numblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">numblocks</span><span class="o">=</span>2;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "generate",
    "params": [ '</span><span class="nv">$numblocks</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc generate <span class="nv">$numblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Timeout error</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'generate'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">numblocks</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"11c5504f63aebe71b3e6f46a31f83dd24e65e392a11e905f6acdb7346c8b18c0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"64455db5aa23d6277027aea1851d85da8ee07958ed7caee2ca630b065f4faaa8"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Mines <code>numblocks</code> number of blocks. Will return once all blocks are mined. CLI command may
timeout before that happens.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>numblocks</td>
<td>1</td>
<td>Number of blocks to mine.</td>
</tr>
<tr>
<td>2</td>
<td>maxtries</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='generatetoaddress'>generatetoaddress</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">numblocks</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">numblocks</span><span class="o">=</span>2;
<span class="nv">address</span><span class="o">=</span><span class="s1">'RTZJdYScA7uGb5pbQPEczpDmq9HiYLv2fJ'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="c"># Will return once all blocks are mined.</span>
curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "generatetoaddress",
    "params": [ '</span><span class="nv">$numblocks</span><span class="s1">', "'</span><span class="nv">$address</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Timeout error</span>
hsd-cli rpc generatetoaddress <span class="nv">$numblocks</span> <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Timeout error</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'generatetoaddress'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">numblocks</span><span class="p">,</span> <span class="nx">address</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"65e54939c20f61e54173596eb72a7b00b96baac0c58d2cb30d1fad64d1b51dbb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"3959ee3f58bb1ac05af9bebb51ebf7872bcd4231fa41c384bcfef468541b5166"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Mines <code>numblocks</code> blocks, with <code>address</code> as coinbase.</p>
<h3 id='params-11'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>numblocks</td>
<td>1</td>
<td>Number of blocks to mine.</td>
</tr>
<tr>
<td>2</td>
<td>address</td>
<td></td>
<td>Coinbase address for new blocks.</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-network'>RPC Calls - Network</h1><h2 id='getconnectioncount'>getconnectioncount</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getconnectioncount",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getconnectioncount
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getconnectioncount'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">8</span><span class="w">
</span></code></pre>
<p>Returns connection count.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='ping'>ping</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "ping",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc ping
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'ping'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Will send ping request to every connected peer.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getpeerinfo'>getpeerinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getpeerinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getpeerinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getpeerinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:14038"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addrlocal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:42930"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localhost"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000009"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relaytxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastsend"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527116003</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527116003</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bytessent"</span><span class="p">:</span><span class="w"> </span><span class="mi">20734</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bytesrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">19905</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conntime"</span><span class="p">:</span><span class="w"> </span><span class="mi">348</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pingtime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="s2">"minping"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/hsd:0.0.0/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingheight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"besthash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43bc66d363025c8953d0920d0bdd5d78e88905687dc0321053ce8f4c6ca0319d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bestheight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5470</span><span class="p">,</span><span class="w">
    </span><span class="s2">"banscore"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inflight"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"whitelisted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns information about all connected peers.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='addnode'>addnode</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'127.0.0.1:14038'</span>;
<span class="nv">cmd</span><span class="o">=</span><span class="s1">'add'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "addnode",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'", "'</span><span class="nv">$cmd</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc addnode <span class="nv">$nodeAddr</span> <span class="nv">$cmd</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'addnode'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Adds or removes peers in Host List. </p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
<tr>
<td>2</td>
<td>cmd</td>
<td>Required</td>
<td>Command</td>
</tr>
</tbody></table>
<h3 id='commands'>Commands</h3>
<table><thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>add</td>
<td>Adds node to Host List and connects to it</td>
</tr>
<tr>
<td>onetry</td>
<td>Tries to connect to the given node</td>
</tr>
<tr>
<td>remove</td>
<td>Removes node from host list</td>
</tr>
</tbody></table>
<h2 id='disconnectnode'>disconnectnode</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'127.0.0.1:14038'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "disconnectnode",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc disconnectnode <span class="nv">$nodeAddr</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'disconnectnode'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Disconnects node.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
</tbody></table>
<h2 id='getaddednodeinfo'>getaddednodeinfo</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'127.0.0.1:14038'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getaddednodeinfo",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getaddednodeinfo <span class="nv">$nodeAddr</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getaddednodeinfo'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"addednode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:14038"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:14038"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outbound"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns node information from host list.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
</tbody></table>
<h2 id='getnettotals'>getnettotals</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnettotals",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getnettotals
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnettotals'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalbytesrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">42175</span><span class="p">,</span><span class="w">
  </span><span class="s2">"totalbytessent"</span><span class="p">:</span><span class="w"> </span><span class="mi">42175</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timemillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527116369308</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about used network resources.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getnetworkinfo'>getnetworkinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnetworkinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc getnetworkinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnetworkinfo'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subversion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/hsd:0.0.0/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocolversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localservices"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000009"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localrelay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkactive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connections"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"relayfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"incrementalfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localaddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.188.224.12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">14038</span><span class="p">,</span><span class="w">
      </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns local node&#39;s network information</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='setban'>setban</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'127.0.0.1:14038'</span>;
<span class="nv">cmd</span><span class="o">=</span><span class="s1">'add'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setban",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'", "'</span><span class="nv">$cmd</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc setban <span class="nv">$nodeAddr</span> <span class="nv">$cmd</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setban'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span> <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Adds or removes nodes from banlist.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
<tr>
<td>2</td>
<td>cmd</td>
<td>Required</td>
<td>Command</td>
</tr>
</tbody></table>
<h3 id='commands-2'>Commands</h3>
<table><thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>add</td>
<td>Adds node to ban list, removes from host list, disconnects.</td>
</tr>
<tr>
<td>remove</td>
<td>Removes node from ban list</td>
</tr>
</tbody></table>
<h2 id='listbanned'>listbanned</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "listbanned",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc listbanned
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'listbanned'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"banned_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527202858</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ban_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527116458</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ban_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Lists all banned peers.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='clearbanned'>clearbanned</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "clearbanned",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsd-cli rpc clearbanned
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">NodeClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">rpcPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeClient</span><span class="p">(</span><span class="nx">clientOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'clearbanned'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Removes all banned peers.</p>
<h3 id='params-11'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='wallet'>Wallet</h1><h2 id='the-wallet-client'>The Wallet Client</h2><pre class="highlight shell tab-shell--cli"><code>npm i -g hs-client
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">'primary'</span><span class="p">;</span> <span class="c1">// or whatever your wallet name is</span>

<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</code></pre>
<p>The best way to interact with the wallet API is with the hsw-cli in the <code>hs-client</code>
<a href="https://www.npmjs.com/package/hs-client">package</a>. Installing globally with
<code>npm i -g hs-client</code> gives you access to the cli. You can also install locally
to your project.</p>

<p>Note that when using it in your own program, you will need to explicitly
pass in a port option. The easiest way to do this is with <code>hsd.Network</code>.</p>

<p>You can create a client for a specific wallet (and be compatible with the old
api) with the <code>wallet</code> method on <code>WalletClient</code> class.</p>

<p>The wallet HTTP server listens on it&#39;s own port, separate from the node&#39;s server.
By default the wallet server listens on these <code>localhost</code> ports:</p>

<table><thead>
<tr>
<th>Network</th>
<th>API Port</th>
</tr>
</thead><tbody>
<tr>
<td>main</td>
<td>12039</td>
</tr>
<tr>
<td>testnet</td>
<td>13039</td>
</tr>
<tr>
<td>regtest</td>
<td>14039</td>
</tr>
<tr>
<td>simnet</td>
<td>15039</td>
</tr>
</tbody></table>
<h2 id='the-walletdb-and-object'>The WalletDB and Object</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl http://x:api-key@127.0.0.1:14039/wallet <span class="c"># will list regtest (default port 14039) wallets</span>

<span class="c"># examples in these docs will use an environment variable:</span>
<span class="nv">walleturl</span><span class="o">=</span>http://x:api-key@127.0.0.1:14039/wallet/
curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Like the node client, you can configure it by passing arguments:</span>
hsw-cli --network<span class="o">=</span>regtest --id<span class="o">=</span><span class="nv">$id</span> get

<span class="c"># ...or you can use environment variables. The default `id` is `primary`:</span>
<span class="nb">export </span><span class="nv">HSK_API_KEY</span><span class="o">=</span>yoursecret
<span class="nb">export </span><span class="nv">HSK_NETWORK</span><span class="o">=</span>regtest
hsw-cli get
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The wallet object will look something like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"540db9e0c4315e00febee2c2565f8430b00903af33aaa6b3b06db67bd1209f9b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedUnconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedConfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>hsd maintains a wallet database which contains every wallet. Wallets are not usable without also using a wallet database. For testing, the wallet database can be in-memory, but it must be there. Wallets are uniquely identified by an id and the walletdb is created with a default id of <code>primary</code>. (See <a href="#create-a-wallet">Create a Wallet</a> below for more details.)</p>

<p>Wallets in hsd use bip44. They also originally supported bip45 for multisig, but support was removed to reduce code complexity, and also because bip45 doesn&#39;t seem to add any benefit in practice.</p>

<p>The wallet database can contain many different wallets, with many different accounts, with many different addresses for each account. hsd should theoretically be able to scale to hundreds of thousands of wallets/accounts/addresses.</p>

<p>Each account can be of a different type. You could have a pubkeyhash account, as well as a multisig account, a witness pubkeyhash account, etc.</p>

<p>Note that accounts should not be accessed directly from the public API. They do not have locks which can lead to race conditions during writes.</p>
<h3 id='wallet-object-vs-wallet-client-object'>wallet object vs wallet client object</h3>
<p>hs-client returns a WalletClient object that can perform <a href="#wallet-admin-commands">admin functions</a> without specifying a wallet, and may be useful when managing multiple wallets. WalletClient can also return a wallet object specified by an <code>id</code>. This object performs functions (and may be authorized by a token) specific to that wallet only.</p>

<aside class="warning">
Accounts within the same wallet are all related by deterministic hierarchy. However, wallets are not related to each other in any way. This means that when a wallet seed is backed up, all of its accounts (and their keys) can be derived from that backup. However, each newly created wallet must be backed up separately.
</aside>
<h2 id='configuration'>Configuration</h2>
<p>Persistent configuration can be added to <code>hsw.conf</code> in your <code>prefix</code> directory.
Same directory has <code>hsd.conf</code> for the node server.</p>

<blockquote>
<p>Example Configuration:</p>
</blockquote>
<pre class="highlight shell tab-shell--vars"><code>network: regtest
wallet-auth: <span class="nb">true
</span>api-key: api-key
http-host: 0.0.0.0
</code></pre>
<aside class="notice">
It is highly recommended to always use <code>wallet-auth</code> and to set a unique <code>api-key</code>,
even for local development or local wallets. Without <code>wallet-auth: true</code> other applications
on your system could theoretically access your wallet through the HTTP server
without any authentication barriers. <code>wallet-auth: true</code> requires a wallet's token to be submitted with every request.
</aside>
<h2 id='wallet-options'>Wallet Options</h2>
<blockquote>
<p>Wallet options object will look something like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walletId"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rpubKB4S62xohva5NNbR3a3e84ybBb6E5AszR713RHzUrefCrbmqYuSEhvC2Reehdzz6v9vu6xN3XuMuFEC57esDUu38Af1ZZFgFydot9Zzs4ixT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"mnemonic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"differ trigger sight sun undo fine sheriff mountain prison remove fantasy arm"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Options are used for wallet creation. None are required.</p>
<h3 id='options-object'>Options Object</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td></td>
<td>Wallet ID (used for storage)</td>
</tr>
<tr>
<td>master</td>
<td>HDPrivateKey</td>
<td></td>
<td>Master HD key. If not present, it will be generated</td>
</tr>
<tr>
<td>witness</td>
<td>Boolean</td>
<td><code>false</code></td>
<td>Whether to use witness programs</td>
</tr>
<tr>
<td>watchOnly</td>
<td>Boolean</td>
<td><code>false</code></td>
<td></td>
</tr>
<tr>
<td>accountKey</td>
<td>String</td>
<td></td>
<td>The extended public key for the primary account in the new wallet. This value is ignored if <code>watchOnly</code> is <code>false</code></td>
</tr>
<tr>
<td>accountIndex</td>
<td>Number</td>
<td><code>0</code></td>
<td>The BIP44 <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#Account">account index</a></td>
</tr>
<tr>
<td>receiveDepth</td>
<td>Number</td>
<td></td>
<td>The index of the <em>next</em> receiving address</td>
</tr>
<tr>
<td>changeDepth</td>
<td>Number</td>
<td></td>
<td>The index of the <em>next</em> change address</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td><code>&#39;pubkeyhash&#39;</code></td>
<td>Type of wallet (pubkeyhash, multisig)</td>
</tr>
<tr>
<td>compressed</td>
<td>Boolean</td>
<td><code>true</code></td>
<td>Whether to use compressed public keys</td>
</tr>
<tr>
<td>m</td>
<td>Number</td>
<td><code>1</code></td>
<td>m value for multisig (<code>m-of-n</code>)</td>
</tr>
<tr>
<td>n</td>
<td>Number</td>
<td><code>1</code></td>
<td>n value for multisig (<code>m-of-n</code>)</td>
</tr>
<tr>
<td>mnemonic</td>
<td>String</td>
<td></td>
<td>A mnemonic phrase to use to instantiate an hd private key. One will be generated if none provided</td>
</tr>
</tbody></table>
<h2 id='wallet-auth'>Wallet Auth</h2>
<blockquote>
<p>The following samples return a wallet object using a wallet token</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">token</span><span class="o">=</span><span class="s1">'17715756779e4a5f7c9b26c48d90a09d276752625430b41b5fcf33cf41aa7615'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>?token<span class="o">=</span><span class="nv">$token</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli get --token<span class="o">=</span><span class="nv">$token</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">token</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Individual wallets have their own api keys, referred to internally as &quot;tokens&quot; (a 32 byte hash - calculated as <code>HASH256(m/44&#39;-&gt;ec-private-key|tokenDepth)</code>).</p>

<p>A wallet is always created with a corresponding token. When using API endpoints
for a specific wallet, the token must be sent back in the query string or JSON
body.</p>

<aside class="warning">
The examples in this section demonstrate how to use a wallet token for API access, which is recommended. However, for clarity, further examples in these docs will omit the token requirement. 
</aside>
<h2 id='reset-authentication-token'>Reset Authentication Token</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s1">'secret123'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli retoken --id<span class="o">=</span><span class="nv">$id</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/retoken <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">retoken</span><span class="p">(</span><span class="nx">passphrase</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d04e217877f15ba920d02c24c6c18f4d39df92f3ae851bec37f0ade063244b2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive a new wallet token, required for access of this particular wallet.</p>

<aside class="warning">
Note: if you happen to lose the returned token, you will not be able to access the wallet (as long as <nobr><code>wallet-auth: true</code></nobr> is still set, as recommended, in <code>hsw.conf</code>
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /wallet/:id/retoken</code></p>
<h2 id='get-wallet-info'>Get Wallet Info</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli get --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample output</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4d9e2a62f67929340b8c600bef0c965370f29cc64afcdeb7aea9cb52906c1d27"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33424f46674d4010fb0715bb69abc98"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pbkdf2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">5473</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">5472</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504999981750</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494999998350</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet info by ID. If no id is passed in the CLI it assumes an id of <code>primary</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /wallet/:id</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>named id of the wallet whose info you would like to retrieve</td>
</tr>
</tbody></table>
<h2 id='get-master-hd-key'>Get Master HD Key</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/master
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli master --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getMaster</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample responses:</p>

<p>BEFORE passphrase is set:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"xprivkey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tprv8ZgxMBicQKsPe7977psQCjBBjWtLDoJVPiiKog42RCoShJLJATYeSkNTzdwfgpkcqwrPYAmRCeudd6kkVWrs2kH5fnTaxrHhi1TfvgxJsZD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mnemonic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"english"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entropy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a560ac7eb5c2ed412a4ba0790f73449d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pistol air cabbage high conduct party powder inject jungle knee spell derive"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>AFTER passphrase is set:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527121890</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33424f46674d4010fb0715bb69abc98"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ciphertext"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2bd62d659bc92212de5d9e939d9dc735bd0212d888b1b04a71d319e82e5ddb18008e383130fd0409113264d1cbc0db42d997ccf99510b168c80e2f39f2983382457f031d5aa5ec7a2d61f4fc92c62117e4eed59afa4a17d7cb0aae3ec5fa0d4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pbkdf2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet master HD key. This is normally censored in the wallet info route. The provided API key must have admin access.
<aside class="warning">
Once a passphrase has been set for a wallet, the API will not reveal the unencrypted master private key or seed phrase. Be sure you back it up right away!
</aside></p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /wallet/:id/master</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>named id of the wallet whose info you would like to retrieve</td>
</tr>
</tbody></table>
<h2 id='create-a-wallet'>Create A Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">witness</span><span class="p">,</span> <span class="nx">watchOnly</span><span class="p">,</span> <span class="nx">accountKey</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'newWallet'</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s1">'secret456'</span>
<span class="nv">witness</span><span class="o">=</span><span class="nb">false
</span><span class="nv">watchOnly</span><span class="o">=</span><span class="nb">true
</span><span class="nv">accountKey</span><span class="o">=</span><span class="s1">'rpubKBAoFrCN1HzSEDye7jcQaycA8L7MjFGmJD1uuvUZ21d9srAmAxmB7o1tCZRyXmTRuy5ZDQDV6uxtcxfHAadNFtdK7J6RV9QTcHTCEoY5FtQD'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  --data <span class="s1">'{"witness":'</span><span class="nv">$witness</span><span class="s1">', "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'", "watchOnly": '</span><span class="nv">$watchOnly</span><span class="s1">', "accountKey":"'</span><span class="nv">$accountKey</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># watchOnly defaults to true if --key flag is set</span>

hsw-cli mkwallet <span class="nv">$id</span> --witness<span class="o">=</span><span class="nv">$witness</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span> --watch<span class="o">=</span><span class="nv">$watchOnly</span> --key<span class="o">=</span><span class="nv">$accountKey</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">,</span>
  <span class="na">witness</span><span class="p">:</span> <span class="nx">witness</span><span class="p">,</span>
  <span class="na">watchOnly</span><span class="p">:</span> <span class="nx">watchOnly</span><span class="p">,</span>
  <span class="na">accountKey</span><span class="p">:</span> <span class="nx">accountKey</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">createWallet</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regtest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newWallet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21b728d8f9e4d909349cf0c8f1e4e74fd45b180103cb7f1885a197d04012ba08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527181467</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53effaf192a346b40b08a52dac0658ce"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pbkdf2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a new wallet with a specified ID.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /wallet/:id</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to create</td>
</tr>
</tbody></table>

<aside class="notice">
See <a href="#wallet-options">Wallet Options</a> for full list and description of possible options that can be passed
</aside>
<h2 id='change-passphrase'>Change Passphrase</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">oldPass</span><span class="p">,</span> <span class="nx">newPass</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'newWallet'</span>
<span class="nv">oldPass</span><span class="o">=</span><span class="s1">'secret456'</span>
<span class="nv">newPass</span><span class="o">=</span><span class="s1">'789secret'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="gp">&gt; </span>No cli <span class="nb">command </span>available
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/passphrase <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"old":"'</span><span class="nv">$oldPass</span><span class="s1">'", "passphrase":"'</span><span class="nv">$newPass</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">setPassphrase</span><span class="p">(</span><span class="nx">oldPass</span><span class="p">,</span> <span class="nx">newPass</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Change wallet passphrase. Encrypt if unencrypted.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /wallet/:id/passphrase</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>old <br> <em>string</em></td>
<td>Old passphrase. Pass in empty string if none</td>
</tr>
<tr>
<td>new <br> <em>string</em></td>
<td>New passphrase</td>
</tr>
</tbody></table>

<aside class="notice">
If you have never set a passphrase for this wallet before, you need to omit the <code>old</code> argument and just send a new <nobr><code>passphrase</code></nobr>
</aside>
<h2 id='send-a-transaction'>Send a transaction</h2><pre class="highlight shell tab-shell--cli"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"secret123"</span>
<span class="nv">rate</span><span class="o">=</span>0.00000500
<span class="nv">value</span><span class="o">=</span>0.00001000
<span class="nv">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>

hsw-cli send --id<span class="o">=</span><span class="nv">$id</span> --value<span class="o">=</span><span class="nv">$value</span> --address<span class="o">=</span><span class="nv">$address</span> ---passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"secret123"</span>
<span class="nv">rate</span><span class="o">=</span>500
<span class="nv">value</span><span class="o">=</span>1000
<span class="nv">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>

curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/send <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'",
    "rate":'</span><span class="nv">$rate</span><span class="s1">',
    "outputs":[
      {"address":"'</span><span class="nv">$address</span><span class="s1">'", "value":'</span><span class="nv">$value</span><span class="s1">'}
    ]
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">rate</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
<span class="nx">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nx">passphrase</span><span class="o">=</span><span class="s2">"secret123"</span>
<span class="nx">rate</span><span class="o">=</span><span class="mi">500</span>
<span class="nx">value</span><span class="o">=</span><span class="mi">1000</span>
<span class="nx">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>

<span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">,</span>
  <span class="na">rate</span><span class="p">:</span> <span class="nx">rate</span><span class="p">,</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">value</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span> <span class="na">address</span><span class="p">:</span> <span class="nx">address</span> <span class="p">}]</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc0f93bb233fdf42a25a086ffb744fcb4f64afe6f5d4243da8e3745835fd57b3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528468930</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T14:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
  </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500002800</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">400000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q2x2suqr44gjn2plm3f99v2ae6ead3rpat9qtzg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001758758e600061e62b92831cb40163011e07bd42cac34467f7d34f57c4a921e35000000000241825ebb96f395c02d3cdce7f88594dab343347879dd96af29320bf020f2c5677d4ab7ef79349007d562a4cdafb54d8e1cbd538275deef1b78eb945155315ae648012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600000084d71700000000001451950e0075aa253507fb8a4a562bb9d67ad88c3d000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create, sign, and send a transaction.</p>

<aside class="warning">Be careful how you enter values and fee rates!<br>
<code>value</code> and <code>rate</code> are expressed in subunits when using cURL or Javascript<br>
<code>value</code> and <code>rate</code> are expressed in WHOLE HNS when using CLI<br>
Watch carefully how values are entered in the examples, all examples send the same amount when executed
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /wallet/:id/send</code></p>
<h3 id='post-paramaters'>Post Paramaters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>outputs <br> <em>array</em></td>
<td>An array of outputs to send for the transaction</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>account to use for transaction</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the account</td>
</tr>
<tr>
<td>smart <br> <em>bool</em></td>
<td>whether or not to choose smart coins, will also used unconfirmed transactions</td>
</tr>
<tr>
<td>blocks <br> <em>int</em></td>
<td>number of blocks to use for fee estimation.</td>
</tr>
<tr>
<td>rate <br> <em>int</em></td>
<td>the rate for transaction fees. Denominated in subunits per kb</td>
</tr>
<tr>
<td>maxFee <br> <em>int</em></td>
<td>maximum fee you&#39;re willing to pay</td>
</tr>
<tr>
<td>subtractFee <br> <em>bool</em></td>
<td>whether to subtract fee from outputs (evenly)</td>
</tr>
<tr>
<td>subtractIndex <br> <em>int</em></td>
<td>subtract only from specified output index</td>
</tr>
<tr>
<td>selection <br> <em>enum</em> - <code>all</code>, <code>random</code>, <code>age</code>, <code>value</code></td>
<td>How to select coins</td>
</tr>
<tr>
<td>depth <br> <em>int</em></td>
<td>number of confirmation for coins to spend</td>
</tr>
<tr>
<td>value <br> <em>int</em> (or <em>float</em>)</td>
<td>Value to send in subunits (or whole HNS, see warning above)</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>destination address for transaction</td>
</tr>
</tbody></table>
<h2 id='create-a-transaction'>Create a Transaction</h2><pre class="highlight shell tab-shell--cli"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multisig1"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"multisecret123"</span>
<span class="nv">rate</span><span class="o">=</span>0.00000500
<span class="nv">value</span><span class="o">=</span>0.05000000
<span class="nv">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>

hsw-cli mktx --id<span class="o">=</span><span class="nv">$id</span> --value<span class="o">=</span><span class="nv">$value</span> --address<span class="o">=</span><span class="nv">$address</span> ---passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multisig1"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"multisecret123"</span>
<span class="nv">rate</span><span class="o">=</span>500
<span class="nv">value</span><span class="o">=</span>5000000
<span class="nv">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap

curl </span><span class="nv">$walleturl</span><span class="s2">/</span><span class="nv">$id</span><span class="s2">/create </span><span class="se">\</span><span class="s2">
  -X POST </span><span class="se">\</span><span class="s2">
  --data '{
    "</span>passphrase<span class="s2">":"</span><span class="s1">'$passphrase'</span><span class="s2">",
    "</span>rate<span class="s2">":'</span><span class="nv">$rate</span><span class="s2">',
    "</span>outputs<span class="s2">":[
      {"</span>address<span class="s2">":"</span><span class="s1">'$address'</span><span class="s2">", "</span>value<span class="s2">":'</span><span class="nv">$value</span><span class="s2">'}
    ]
  }'
</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">rate</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
<span class="nx">id</span><span class="o">=</span><span class="s2">"multisig1"</span>
<span class="nx">passphrase</span><span class="o">=</span><span class="s2">"multisecret123"</span>
<span class="nx">rate</span><span class="o">=</span><span class="mi">500</span>
<span class="nx">value</span><span class="o">=</span><span class="mi">5000000</span>
<span class="nx">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>

<span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">,</span>
  <span class="na">rate</span><span class="p">:</span> <span class="nx">rate</span><span class="p">,</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">value</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span> <span class="na">address</span><span class="p">:</span> <span class="nx">address</span> <span class="p">}]</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">createTX</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce2b8ea52f54f2d170ce0e32b4dfb5f6553e7aad065413a570ce9d683ab14abc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"980923fa0e9fa634e2c0bbc4d34a6303c7967b65173c2a36fe0b458f40bd070d"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528470021</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"b25cb7e4d1269410d1bd625aaea3b23a3c6397549d708e3970e6dd9b40ce87bc579b6bf216b328bf58e5397a7480967d909e14e95bc7a5a3044e5994e460224301"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"03d2a6f3eea124947217d0b0e56d81dc665df1fc08c4585269d706ec960cecb28f"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q5rjhy20r2hmcxjpc8zv70xkck05pecdew6a798"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">394994400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q4s4lnf94su2padkt3wsgv9xenlyh8qygyl9j0x"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9010000000241b25cb7e4d1269410d1bd625aaea3b23a3c6397549d708e3970e6dd9b40ce87bc579b6bf216b328bf58e5397a7480967d909e14e95bc7a5a3044e5994e4602243012103d2a6f3eea124947217d0b0e56d81dc665df1fc08c4585269d706ec960cecb28fffffffff02404b4c00000000000014f0d9374a2ce80c377187f4bc6c68993c561cb1360000e0228b17000000000014ac2bf9a4b587141eb6cb8ba08614d99fc9738088000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create and template a transaction (useful for multisig).
Does not broadcast or add to wallet.</p>

<aside class="warning">Be careful how you enter values and fee rates!<br>
<code>value</code> and <code>rate</code> are expressed in subunits when using cURL or Javascript<br>
<code>value</code> and <code>rate</code> are expressed in WHOLE HNS when using CLI<br>
Watch carefully how values are entered in the examples, all examples send the same amount when executed
</aside>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /wallet/:id/create</code></p>
<h3 id='post-paramters'>Post Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>outputs <br> <em>array</em></td>
<td>An array of outputs to send for the transaction</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the account</td>
</tr>
<tr>
<td>smart <br> <em>bool</em></td>
<td>whether or not to choose smart coins, will also used unconfirmed transactions</td>
</tr>
<tr>
<td>rate <br> <em>int</em></td>
<td>the rate for transaction fees. Denominated in subunits per kb</td>
</tr>
<tr>
<td>maxFee <br> <em>int</em></td>
<td>maximum fee you&#39;re willing to pay</td>
</tr>
<tr>
<td>subtractFee <br> <em>bool</em></td>
<td>whether to subtract fee from outputs (evenly)</td>
</tr>
<tr>
<td>subtractIndex <br> <em>int</em></td>
<td>subtract only from specified output index</td>
</tr>
<tr>
<td>selection <br> <em>enum</em> - <code>all</code>, <code>random</code>, <code>age</code>, <code>value</code></td>
<td>How to select coins</td>
</tr>
<tr>
<td>depth <br> <em>int</em></td>
<td>number of confirmation for coins to spend</td>
</tr>
<tr>
<td>value <br> <em>int</em> (or <em>float</em>)</td>
<td>Value to send in subunits (or whole HNS, see warning above)</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>destination address for transaction</td>
</tr>
</tbody></table>
<h2 id='sign-transaction'>Sign Transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">tx</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multisig2"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"multisecret456"</span>
<span class="nv">tx</span><span class="o">=</span><span class="s2">"0100000001be4330126fc108092daffca823d9b5d8bf0ee86ed727d19880e5a03977d8eb3100000000920000473044022064ac064f8b0e224413cf7e7c3aa2758013dd0cff6b421a273fb6f870894b200f022064da80d0ea08110b1c18817a66b1e576f945f73256407175b0fcc9936644b3320147522102fac079263a41252f1602406313cc26caf76029135fda4f2423b997b6c89ce78f210304ea9eddb0c0fe241c89ceb2ee8b15870ede2757dfbd42fee60ba9f63d91290652aeffffffff02b0304c000000000017a9144ff1a73bf41d28a8a60e057a5c4bb0a38c0bbaf887404b4c00000000001976a9149e6a64a9dfdf49bfa72e1402663ac40aa5e30a7188ac00000000"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli sign --id<span class="o">=</span><span class="nv">$id</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span> --tx<span class="o">=</span><span class="nv">$tx</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/sign <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"tx": "'</span><span class="nv">$tx</span><span class="s1">'", "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">tx</span><span class="p">:</span> <span class="nx">tx</span><span class="p">,</span> <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span> <span class="p">};</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Output</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce2b8ea52f54f2d170ce0e32b4dfb5f6553e7aad065413a570ce9d683ab14abc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"980923fa0e9fa634e2c0bbc4d34a6303c7967b65173c2a36fe0b458f40bd070d"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528470021</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"b25cb7e4d1269410d1bd625aaea3b23a3c6397549d708e3970e6dd9b40ce87bc579b6bf216b328bf58e5397a7480967d909e14e95bc7a5a3044e5994e460224301"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"03d2a6f3eea124947217d0b0e56d81dc665df1fc08c4585269d706ec960cecb28f"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q5rjhy20r2hmcxjpc8zv70xkck05pecdew6a798"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">394994400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q4s4lnf94su2padkt3wsgv9xenlyh8qygyl9j0x"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9010000000241b25cb7e4d1269410d1bd625aaea3b23a3c6397549d708e3970e6dd9b40ce87bc579b6bf216b328bf58e5397a7480967d909e14e95bc7a5a3044e5994e4602243012103d2a6f3eea124947217d0b0e56d81dc665df1fc08c4585269d706ec960cecb28fffffffff02404b4c00000000000014f0d9374a2ce80c377187f4bc6c68993c561cb1360000e0228b17000000000014ac2bf9a4b587141eb6cb8ba08614d99fc9738088000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Sign a templated transaction (useful for multisig).</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /wallet/:id/sign</code></p>
<h3 id='post-paramters-2'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tx <br> <em>string</em></td>
<td>the hex of the transaction you would like to sign</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the wallet</td>
</tr>
</tbody></table>
<h2 id='zap-transactions'>Zap Transactions</h2><pre class="highlight shell tab-shell--cli"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nv">age</span><span class="o">=</span>259200 <span class="c"># 72 hours</span>

hsw-cli zap --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> --age<span class="o">=</span><span class="nv">$age</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nv">age</span><span class="o">=</span>259200 <span class="c"># 72 hours</span>

curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/zap <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "account": "'</span><span class="nv">$account</span><span class="s1">'",
    "age": '</span><span class="nv">$age</span><span class="s1">'
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
<span class="nx">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nx">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nx">age</span><span class="o">=</span><span class="mi">259200</span> <span class="c1">// 72 hours</span>

<span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">zap</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">age</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight shell tab-shell--cli"><code>Zapped!
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="o">{</span>
  <span class="s2">"success"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre>
<p>Remove all pending transactions older than a specified age.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /wallet/:id/zap?age=3600</code></p>
<h3 id='post-parameters'>Post Parameters</h3>
<table><thead>
<tr>
<th>Paramaters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br> <em>string</em> or <em>number</em></td>
<td>account to zap from</td>
</tr>
<tr>
<td>age <br> <em>number</em></td>
<td>age threshold to zap up to (unix time)</td>
</tr>
</tbody></table>
<h2 id='unlock-wallet'>Unlock Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">pass</span><span class="p">,</span> <span class="nx">timeout</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">pass</span><span class="o">=</span><span class="s1">'secret123'</span>
<span class="nv">timeout</span><span class="o">=</span>60
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli unlock --id<span class="o">=</span><span class="nv">$id</span> <span class="nv">$pass</span> <span class="nv">$timeout</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/unlock <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"passphrase":"'</span><span class="nv">$pass</span><span class="s1">'", "timeout": '</span><span class="nv">$timeout</span><span class="s1">'}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">unlock</span><span class="p">(</span><span class="nx">pass</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight shell tab-shell--cli"><code><span class="o">{</span><span class="s2">"success"</span>: <span class="nb">true</span><span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>Unlocked.
</code></pre>
<p>Derive the AES key from passphrase and hold it in memory for a specified number of seconds. Note: During this time, account creation and signing of transactions will not require a passphrase.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST /wallet/:id/unlock</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>Password used to encrypt the wallet being unlocked</td>
</tr>
<tr>
<td>timeout <br> <em>number</em></td>
<td>time to re-lock the wallet in seconds. (default=60)</td>
</tr>
</tbody></table>
<h2 id='lock-wallet'>Lock Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli lock --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/lock <span class="se">\</span>
  -X POST
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">lock</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight shell tab-shell--cli"><code><span class="o">{</span><span class="s2">"success"</span>: <span class="nb">true</span><span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>Locked.
</code></pre>
<p>If unlock was called, zero the derived AES key and revert to normal behavior.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST /wallet/:id/lock</code></p>
<h2 id='import-public-private-key'>Import Public/Private Key</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">watchid</span><span class="o">=</span><span class="s1">'watchonly1'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
<span class="nv">pubkey</span><span class="o">=</span><span class="s1">'0215a9110e2a9b293c332c28d69f88081aa2a949fde67e35a13fbe19410994ffd9'</span>
<span class="nv">privkey</span><span class="o">=</span><span class="s1">'EMdDCvF1ZjsCnimTnTQfjw6x8CQmVidtJxKBegCVzPw3g6yRoDkK'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> import <span class="nv">$privkey</span>
hsw-cli --id<span class="o">=</span><span class="nv">$watchid</span> --account<span class="o">=</span><span class="nv">$account</span> import <span class="nv">$pubkey</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/import <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'", "privateKey":"'</span><span class="nv">$privkey</span><span class="s1">'"}'</span>

curl <span class="nv">$walleturl</span>/<span class="nv">$watchid</span>/import <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'", "publicKey":"'</span><span class="nv">$pubkey</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">watchwallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">watchid</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">watchwallet</span><span class="p">.</span><span class="nx">importPublic</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">pubkey</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">importPrivate</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">privkey</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Responses</p>
</blockquote>
<pre class="highlight plaintext"><code>Imported private key.

Imported public key.
</code></pre>
<p>Import a standard WIF key.</p>

<p>An import can be either a private key or a public key for watch-only. (Watch Only wallets will throw an error if trying to import a private key)</p>

<p>A rescan will be required to see any transaction history associated with the
key.</p>

<aside class="warning">
Note that imported keys do not exist anywhere in the wallet's HD tree. They can be associated with accounts but will not be properly backed up with only the mnemonic.
</aside>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST /wallet/:id/import</code></p>
<h3 id='body-paramters'>Body Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of target wallet to import key into</td>
</tr>
<tr>
<td>privateKey <br> <em>string</em></td>
<td>Bech32 encoded private key</td>
</tr>
<tr>
<td>publicKey <br> <em>string</em></td>
<td>Hex encoded public key</td>
</tr>
</tbody></table>

<blockquote>
<p>Will return following error if incorrectly formatted:
<code>Bad key for import</code></p>
</blockquote>
<h2 id='import-address'>Import Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'watchonly1'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
<span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli watch --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/import <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'", "address":"'</span><span class="nv">$address</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">importAddress</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Import a Bech32 encoded address. Addresses (like public keys) can only be imported into watch-only wallets</p>

<p>The HTTP endpoint is the same as for key imports.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST /wallet/:id/import</code></p>
<h3 id='body-paramters-2'>Body Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of target wallet to import key into</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>Bech32 encoded address</td>
</tr>
</tbody></table>
<h2 id='get-blocks-with-wallet-txs'>Get Blocks with Wallet Txs</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/block
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli blocks --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getBlocks</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> </span><span class="mi">1179720</span><span class="p">,</span><span class="w"> </span><span class="mi">1179721</span><span class="p">,</span><span class="w"> </span><span class="mi">1180146</span><span class="p">,</span><span class="w"> </span><span class="mi">1180147</span><span class="p">,</span><span class="w"> </span><span class="mi">1180148</span><span class="p">,</span><span class="w"> </span><span class="mi">1180149</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all block heights which contain any wallet transactions. Returns an array of block heights</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET /wallet/:id/block</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to query blocks with its transactions in it</td>
</tr>
</tbody></table>
<h2 id='get-wallet-block-by-height'>Get Wallet Block by Height</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">height</span><span class="o">=</span>50
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> block <span class="nv">$height</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/block/<span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a630279111118885f4489471ddf6f7a318b3510e5e17aa73412088d19b8ba78"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527181141</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"4255c0784ae89cfe7ccf878be3a408d8c1f6c665d5df331e27962b4defe3beb8"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get block info by height.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET /wallet/:id/block/:height</code></p>

<table><thead>
<tr>
<th>Paramaters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet which has tx in the block being queried</td>
</tr>
<tr>
<td>height <br> <em>int</em></td>
<td>height of block being queried</td>
</tr>
</tbody></table>
<h2 id='add-xpubkey-multisig'>Add xpubkey (Multisig)</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multisig3"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nv">key</span><span class="o">=</span><span class="s2">"rpubKBBGCWqgVn4RRVpJTDUvTJnFHYiQuoUNy7s6W57U36KJ3r5inJp7iVRJZHvkFjbgfaGVs9fkvcCQS5ZMmc7BYFCrkADgmGKDCsjYK1vGmoFw"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> shared add <span class="nv">$key</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/shared-key <span class="se">\</span>
  -X PUT <span class="se">\</span>
  --data <span class="s1">'{"accountKey": "'</span><span class="nv">$key</span><span class="s1">'", "account": "'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">addSharedKey</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addedKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Add a shared xpubkey to wallet. Must be a multisig wallet.</p>

<aside class="notice">
Note that since it must be a multisig, the wallet on creation should be set with <code>m</code> and <code>n</code> where <code>n</code> is greater than 1 (since the first key is always that wallet's own xpubkey). Creating new addresses from this account will not be possible until <code>n</code> number of xpubkeys are added to the account.
</aside>

<p>Response will return <code>addedKey: true</code> true if key was added on this request. Returns
<code>false</code> if key already added, but will still return <code>success: true</code> with status <code>200</code>.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>PUT /wallet/:id/shared-key</code></p>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountKey <br> <em>string</em></td>
<td>xpubkey to add to the multisig wallet</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>multisig account to add the xpubkey to (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='remove-xpubkey-multisig'>Remove xpubkey (Multisig)</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">key</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multisig3"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nv">key</span><span class="o">=</span><span class="s2">"rpubKBBGCWqgVn4RRVpJTDUvTJnFHYiQuoUNy7s6W57U36KJ3r5inJp7iVRJZHvkFjbgfaGVs9fkvcCQS5ZMmc7BYFCrkADgmGKDCsjYK1vGmoFw"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> shared remove <span class="nv">$key</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/shared-key <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  --data <span class="s1">'{"accountKey": "'</span><span class="nv">$key</span><span class="s1">'", "account": "'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">removeSharedKey</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"removedKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Remove shared xpubkey from wallet if present.</p>

<p>Response will return <code>removedKey: true</code> true if key was removed on this request. Returns
<code>false</code> if key was already removed, but will still return <code>success: true</code> with status <code>200</code>.</p>

<aside class="notice">
Remove Key is only available to a multisig wallet that is not yet "complete" -- as in, 
<nobr><code>n-1</code></nobr> number of keys have not yet been added to the wallet's own original key. 
Once a multisig wallet has the right number of keys to create m-of-n addresses, this function will return an error.
</aside>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>DEL /wallet/:id/shared-key</code></p>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountKey <br> <em>string</em></td>
<td>xpubkey to add to the multisig wallet</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>multisig account to remove the key from (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='get-public-key-by-address'>Get Public Key By Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">address</span><span class="o">=</span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> key <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/key/<span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getKey</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03d4cf5be0633367d3b544931bd21c963661dc5561ec8c23c08723445a50c29caf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet key by address. Returns wallet information with address and public key</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET /wallet/:id/key/:address</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that holds the address being queried</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>Bech32 encoded address to get corresponding public key for</td>
</tr>
</tbody></table>
<h2 id='get-private-key-by-address'>Get Private Key By Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s1">'secret123'</span>
<span class="nv">address</span><span class="o">=</span><span class="s1">'rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span> dump <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/wif/<span class="nv">$address</span>?passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getWIF</span><span class="p">(</span><span class="nx">address</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EQWCFedg76dU1qaknKXnD4WkbMesyCEfVpPXkcQiY4qDMn1J3mFf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet private key (WIF format) by address. Returns just the private key</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>GET /wallet/:id/wif/:address</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that holds the address being queried</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>Bech32 encoded address to get corresponding public key for</td>
</tr>
</tbody></table>
<h2 id='generate-receiving-address'>Generate Receiving Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> address
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/address -X POST --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">createAddress</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"023f2963bcbc853daa690909bb89022d4da109fb7c922607a8f37d8da4e69c72d5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qy9uplxpt5cur32rw3zmyf8e7tp87w8slly2fms"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Derive new receiving address for account.</p>

<aside class="notice">
Note that, except for the CLI which assumes 'default' account, an account must be passed for the call to work.
</aside>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>POST /wallet/:id/address</code></p>
<h3 id='post-paramters-3'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br><em>string</em></td>
<td>BIP44 account to generate address from</td>
</tr>
</tbody></table>
<h2 id='generate-change-address'>Generate Change Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> change
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/change -X POST --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">createChange</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0232b907306e5bea1899874b813aed4e82eace6cb75c2a039434ce81576cf299c7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q30ppv5gyrwpy4wyk0v6uzawxygdtvrpux8yrg2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive new change address for account.</p>

<aside class="info">
Note that, except for the CLI which assumes 'default' account, an account must be passed for the call to work.
</aside>
<h3 id='http-request-21'>HTTP Request</h3>
<p><code>POST /wallet/:id/change</code></p>
<h3 id='post-paramters-4'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br><em>string</em></td>
<td>BIP44 account to generate address from</td>
</tr>
</tbody></table>
<h2 id='derive-nested-address'>Derive Nested Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"witness1"</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> nested --account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/nested -X POST --data <span class="s1">'{"account": "'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">createNested</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0232b907306e5bea1899874b813aed4e82eace6cb75c2a039434ce81576cf299c7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q30ppv5gyrwpy4wyk0v6uzawxygdtvrpux8yrg2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive new nested p2sh receiving address for account. Note that this can&#39;t be done on a non-witness account otherwise you will receive the following error:</p>

<p><code>[error] (node) Cannot derive nested on non-witness account.</code></p>
<h3 id='http-request-22'>HTTP Request</h3>
<p><code>POST /wallet/:id/nested</code></p>
<h3 id='post-paramters-5'>Post Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br> <em>string</em></td>
<td>account to derive the nested address for (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='get-balance'>Get Balance</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> balance --account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/balance?account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getBalance</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499997200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lockedUnconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lockedConfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet or account balance. If no account option is passed, the call defaults to wallet balance (with account index of <nobr><code>-1</code></nobr>). Balance values for <code>unconfimred</code> and <code>confirmed</code> are expressed in subunits.</p>
<h3 id='http-request-23'>HTTP Request</h3>
<p><code>GET /wallet/:id/balance?account=:account</code></p>
<h3 id='request-paramters'>Request Paramters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>wallet id to get balance of</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>account name (optional, defaults to entire wallet balance)</td>
</tr>
</tbody></table>
<h2 id='list-all-coins'>List all Coins</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/coin
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> coins
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getCoins</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4674eb87021d9e07ff68cfaaaddfb010d799246b8f89941c58b8673386ce294f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500008400</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1eab12e7682fd7442f1ee26ae349b1a34fd10c8e686da8161df09f7512fa2563"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all wallet coins available.</p>
<h3 id='http-request-24'>HTTP Request</h3>
<p><code>GET /wallet/:id/coin</code></p>
<h2 id='lock-coin-outpoints'>Lock Coin/Outpoints</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"52ada542512ea95be425087ee4b891842d81eb6f9a4e0350f14d0285b5fd40c1"</span>
<span class="nv">index</span><span class="o">=</span><span class="s2">"0"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not Supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/locked/<span class="nv">$hash</span>/<span class="nv">$index</span> -X PUT
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">lockCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lock outpoints.</p>
<h3 id='http-request-25'>HTTP Request</h3>
<p><code>PUT /wallet/:id/locked/:hash/:index</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h3 id='body-paramters-3'>Body Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase of wallet being referenced</td>
</tr>
</tbody></table>
<h2 id='unlock-outpoint'>Unlock Outpoint</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"52ada542512ea95be425087ee4b891842d81eb6f9a4e0350f14d0285b5fd40c1"</span>
<span class="nv">index</span><span class="o">=</span><span class="s2">"0"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not Supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/locked/<span class="nv">$hash</span>/<span class="nv">$index</span> -X DELETE
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">unlockCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Unlock outpoints.</p>
<h3 id='http-request-26'>HTTP Request</h3>
<p><code>DEL /wallet/:id/locked/:hash/:index</code></p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h3 id='body-paramters-4'>Body Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase of wallet being referenced</td>
</tr>
</tbody></table>
<h2 id='get-locked-outpoints'>Get Locked Outpoints</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/locked
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getLocked</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52ada542512ea95be425087ee4b891842d81eb6f9a4e0350f14d0285b5fd40c1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get all locked outpoints.</p>
<h3 id='http-request-27'>HTTP Request</h3>
<p><code>GET /wallet/:id/locked</code></p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to check for outpoints</td>
</tr>
</tbody></table>
<h2 id='get-wallet-coin'>Get Wallet Coin</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"52ada542512ea95be425087ee4b891842d81eb6f9a4e0350f14d0285b5fd40c1"</span>
<span class="nv">index</span><span class="o">=</span><span class="s2">"0"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># command is wallet agnostic, same as in vanilla coin command</span>

hsd-cli coin <span class="nv">$hash</span> <span class="nv">$index</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/coin/<span class="nv">$hash</span>/<span class="nv">$index</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a91403a394378a680558ea205b604b182566381e116e88ac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"R9cS4kuYVWHaDJmRGMpwx7zCNjw97Zm5LL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52ada542512ea95be425087ee4b891842d81eb6f9a4e0350f14d0285b5fd40c1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet coin</p>
<h3 id='http-request-28'>HTTP Request</h3>
<p><code>GET /wallet/:id/coin/:hash/:index</code></p>
<h3 id='request-parameters-4'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h1 id='wallet-admin-commands'>Wallet Admin Commands</h1><pre class="highlight shell tab-shell--curl"><code>curl http://x:api-key@127.0.0.1:14039 <span class="c"># will access admin functions for regtest (port 14039) wallets</span>

<span class="c"># examples in these docs will use an environment variable:</span>
<span class="nv">walletadminurl</span><span class="o">=</span>http://x:api-key@127.0.0.1:14039/
curl <span class="nv">$walletadminurl</span>/&lt;METHOD&gt;
</code></pre>
<p>Admin commands are simply commands no specific to any particular wallet, and may
impact all wallets on the system.</p>

<p>Additional security is available by specifying <code>admin-token</code> in your configuration
if <code>wallet-auth</code> is also enabled. If <code>admin-token</code> is specified, add <code>?token=</code>
to all admin requests.</p>

<p>This is highly recommended, especially on production instances.</p>
<h2 id='wallet-rescan'>Wallet Rescan</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">height</span><span class="o">=</span>50
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walletadminurl</span>/rescan <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"height": '</span><span class="nv">$height</span><span class="s1">'}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli rescan <span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">rescan</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>

</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Initiates a blockchain rescan for the walletdb. Wallets will be rolled back to the specified height (transactions above this height will be unconfirmed).</p>
<h3 id='example-http-request'>Example HTTP Request</h3>
<p><code>POST /rescan?height=50</code></p>
<h2 id='wallet-resend'>Wallet Resend</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walletadminurl</span>/resend <span class="se">\</span>
-X POST
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli resend
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">resend</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Rebroadcast all pending transactions in all wallets.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /resend</code></p>
<h2 id='wallet-backup'>Wallet Backup</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">path</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">path</span><span class="o">=</span><span class="s1">'/home/user/walletdb-backup.ldb'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walletadminurl</span>/backup?path<span class="o">=</span><span class="nv">$path</span> <span class="se">\</span>
  -X POST
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli backup <span class="nv">$path</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">backup</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Safely backup the wallet database to specified path (creates a clone of the database).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /backup?path=/home/user/walletdb-backup.ldb</code></p>
<h2 id='list-all-wallets'>List all Wallets</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walletadminurl</span>/wallet
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli wallets
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">getWallets</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"newWallet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"multisig1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"multisig2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchonly1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"multisig3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness1"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all wallet IDs. Returns an array of strings.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /wallet</code></p>
<h1 id='wallet-transactions'>Wallet Transactions</h1><h2 id='get-wallet-tx-details'>Get Wallet TX Details</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> tx <span class="nv">$hash</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/tx/<span class="nv">$hash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getTX</span><span class="p">(</span><span class="nx">hash</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580d7de114490f623fe6cc395540be80495e6cb5b0f5a176df89325465d789b9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae127a29c02d7b13ed0a3d57f913392a7f8f82b50295970585cbfad8bc6577b2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528427154</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528427143</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T03:05:54Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T03:05:43Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
  </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">399997200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q5rjhy20r2hmcxjpc8zv70xkck05pecdew6a798"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001b724ff8521fd9e7b86afc29070d52e9709927a6c8023360ea86d906f8ea6dcb300000000024126538396dcf0a498bdcebc40f09e17ac7e36f28dead9cecbdcb2fcbb1d64bc241de35734009b4bbf0363578191b56e7bb391b10ff24ccdf9db77e9d291978714012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600001079d717000000000014a0e57229e355f78348383899e79ad8b3e81ce1b9000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet transaction details.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/:hash</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that handled the transaction</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of the transaction you&#39;re trying to retrieve</td>
</tr>
</tbody></table>
<h2 id='delete-transaction'>Delete Transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"a97a9993389ae321b263dffb68ba1312ad0655da83aeca75b2372d5abc70544a"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not available in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/tx/<span class="nv">$hash</span> <span class="se">\</span>
  -X DELETE
</code></pre><pre class="highlight javascript tab-javascript"><code> <span class="c1">// Not available in javascript wallet client.</span>
</code></pre>
<p>Abandon single pending transaction. Confirmed transactions will throw an error.
<code>&quot;TX not eligible&quot;</code></p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>DEL /wallet/:id/tx/:hash</code></p>

<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet where the transaction is that you want to remove</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction you would like to remove.</td>
</tr>
</tbody></table>
<h2 id='get-wallet-tx-history'>Get Wallet TX History</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> <span class="nb">history</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/tx/history
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="s1">'default'</span><span class="p">;</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getHistory</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc0f93bb233fdf42a25a086ffb744fcb4f64afe6f5d4243da8e3745835fd57b3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528468930</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T14:42:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
    </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500002800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">400000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q2x2suqr44gjn2plm3f99v2ae6ead3rpat9qtzg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001758758e600061e62b92831cb40163011e07bd42cac34467f7d34f57c4a921e35000000000241825ebb96f395c02d3cdce7f88594dab343347879dd96af29320bf020f2c5677d4ab7ef79349007d562a4cdafb54d8e1cbd538275deef1b78eb945155315ae648012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600000084d71700000000001451950e0075aa253507fb8a4a562bb9d67ad88c3d000000000000"</span><span class="w">
  </span><span class="p">},</span><span class="w">
 </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get wallet TX history. Returns array of tx details.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/history</code></p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to get history of</td>
</tr>
</tbody></table>
<h2 id='get-pending-transactions'>Get Pending Transactions</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> pending
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/tx/unconfirmed
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getPending</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Get pending wallet transactions. Returns array of tx details.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/unconfirmed</code></p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to get pending/unconfirmed txs</td>
</tr>
</tbody></table>
<h2 id='get-range-of-transactions'>Get Range of Transactions</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
<span class="nv">start</span><span class="o">=</span><span class="s2">"1527184612"</span>
<span class="nv">end</span><span class="o">=</span><span class="s2">"1527186612"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># range not available in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/tx/range?start<span class="o">=</span><span class="nv">$start</span><span class="s1">'&amp;'</span><span class="nv">end</span><span class="o">=</span><span class="nv">$end</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getRange</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="p">{</span><span class="na">start</span><span class="p">:</span> <span class="nx">start</span><span class="p">,</span> <span class="na">end</span><span class="p">:</span> <span class="nx">end</span><span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc0f93bb233fdf42a25a086ffb744fcb4f64afe6f5d4243da8e3745835fd57b3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528468930</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T14:42:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
    </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500002800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">400000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q2x2suqr44gjn2plm3f99v2ae6ead3rpat9qtzg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001758758e600061e62b92831cb40163011e07bd42cac34467f7d34f57c4a921e35000000000241825ebb96f395c02d3cdce7f88594dab343347879dd96af29320bf020f2c5677d4ab7ef79349007d562a4cdafb54d8e1cbd538275deef1b78eb945155315ae648012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600000084d71700000000001451950e0075aa253507fb8a4a562bb9d67ad88c3d000000000000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get range of wallet transactions by timestamp. Returns array of tx details.</p>

<aside class="notice">
Note that there are other options documented that `getRange` accepts in the options body, `limit` and `reverse`. At the time of writing however they do not have any effect.
</aside>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/range</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br><em>string</em></td>
<td>account to get the tx history from</td>
</tr>
<tr>
<td>start <br> <em>int</em></td>
<td>start time to get range from</td>
</tr>
<tr>
<td>end <br> <em>int</em></td>
<td>end time to get range from</td>
</tr>
</tbody></table>

<!-- ##GET /wallet/:id/tx/last

Get last N wallet transactions.

### HTTP Request

`GET /wallet/:id/tx/last` -->
<h1 id='wallet-accounts'>Wallet Accounts</h1><h2 id='account-object'>Account Object</h2>
<blockquote>
<p>An account object looks like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qy9uplxpt5cur32rw3zmyf8e7tp87w8slly2fms"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q30ppv5gyrwpy4wyk0v6uzawxygdtvrpux8yrg2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rpubKBAXPkng2Zk4FTt7GwatsRAivjckuySyYydDXhcDFKvvQXN4wDvMtazgTAzq7gHA4ZcyXJp5VoYE8AcacXc1AgNmrnJt1YuAkbovBRSJ4Fuo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499997200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedUnconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedConfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Represents a BIP44 Account belonging to a Wallet.
Note that this object does not enforce locks. Any method that does a write is internal API only and will lead to race conditions if used elsewhere.</p>

<p>From the <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki">BIP44 Specification</a>:</p>

<p><em>This level splits the key space into independent user identities, so the wallet never mixes the coins across different accounts.</em>
        <em>Users can use these accounts to organize the funds in the same fashion as bank accounts; for donation purposes (where all addresses are considered public), for saving purposes, for common expenses etc.</em>
        <em>Accounts are numbered from index 0 in sequentially increasing manner. This number is used as child index in BIP32 derivation.</em>
        <em>Hardened derivation is used at this level.</em></p>

<aside class="warning">
Accounts within the same wallet are all related by deterministic hierarchy. However, wallets are not related to each other in any way. This means that when a wallet seed is backed up, all of its accounts (and their keys) can be derived from that backup. However, each newly created wallet must be backed up separately.
</aside>
<h2 id='get-wallet-account-list'>Get Wallet Account List</h2><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/account
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli account --id<span class="o">=</span><span class="nv">$id</span> list
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getAccounts</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"default"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all account names (array indices map directly to bip44 account indices) associated with a specific wallet id.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /wallet/:id/account</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to retrieve the account list for</td>
</tr>
</tbody></table>

<aside class="notice">
Note that command defaults to primary (default) wallet if no wallet id is passed
</aside>
<h2 id='get-account-information'>Get Account Information</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/account/<span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> account get <span class="nv">$account</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getAccount</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RLY9z6PCB3fggt36mnfA75jESRtvkALKX5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RPSppa2YUzTK5jWWZ7k74NfMEJtnNKn4vs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rpubKBBuJXusEYaDdxTwH1nPYRXQnd3XgLAFfNYxVhjrtvLAkDAXaps1nURZVmWuFsXK8RBXiDQu7grCBv6fRtQxgPH3FkKe4UQV7F2sfNBK47sA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1339989996774</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1339989999000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get account info.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /wallet/:id/account/:account</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to query</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>id of account you would to retrieve information for</td>
</tr>
</tbody></table>
<h2 id='create-new-wallet-account'>Create new wallet account</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">type</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'primary'</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s1">'secret123'</span>
<span class="nv">name</span><span class="o">=</span><span class="s1">'menace'</span>
<span class="nb">type</span><span class="o">=</span><span class="s1">'multisig'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>hsw-cli --id<span class="o">=</span><span class="nv">$id</span> account create --name<span class="o">=</span><span class="nv">$name</span> --type<span class="o">=</span><span class="nv">$type</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span> 
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$walleturl</span>/<span class="nv">$id</span>/account/<span class="nv">$name</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --data <span class="s1">'{"type": "'</span><span class="nv">$type</span><span class="s1">'", "passphrase": "'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">WalletClient</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hs-client'</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">Network</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hsd'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">network</span> <span class="o">=</span> <span class="nx">Network</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'regtest'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">walletOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
  <span class="na">port</span><span class="p">:</span> <span class="nx">network</span><span class="p">.</span><span class="nx">walletPort</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="s1">'api-key'</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">walletClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WalletClient</span><span class="p">(</span><span class="nx">walletOptions</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">walletClient</span><span class="p">.</span><span class="nx">wallet</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="nx">type</span><span class="p">,</span> <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">}</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">createAccount</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qnkc22uz2hp9qz8tphyqy8ujftmz0zstrwn6lju"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qk6me5r699v24jn4u9jhdwxg4cykn2akr89g59p"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rpubKBAXPkng2Zk4FX87zf5LehvNn7Hy5P4eVwKp58YZ1CV7uZwgbDd1PHPKuyj7UTnvzFMMziK2kGtqMpZaKa6zUUM7YBsUB6pzQtojUFM4dnQM"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedUnconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockedConfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create account with specified account name.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT /wallet/:id/account/:name</code></p>
<h3 id='options-object'>Options object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name <br> <em>string</em></td>
<td>name to give the account. Option can be <code>account</code> or <code>name</code></td>
</tr>
<tr>
<td>witness <br> <em>bool</em></td>
<td>whether or not to act as segregated witness wallet account</td>
</tr>
<tr>
<td>accountKey <br> <em>string</em></td>
<td>the extended public key for the account. This is ignored for non watch only wallets. Watch only accounts can&#39;t accept private keys for import (or sign transactions)</td>
</tr>
<tr>
<td>type <br> <em>string</em></td>
<td>what type of wallet to make it (&#39;multisig&#39;, &#39;pubkeyhash&#39;)</td>
</tr>
<tr>
<td>m <br> <em>int</em></td>
<td>for multisig accounts, what to make <code>m</code> in m-of-n</td>
</tr>
<tr>
<td>n <br> <em>int</em></td>
<td>for multisig accounts, what to make the <code>n</code> in m-of-n</td>
</tr>
</tbody></table>
<h1 id='wallet-events'>Wallet Events</h1><h2 id='using-wallet-sockets'>Using Wallet Sockets</h2>
<p>Wallet events use the socket.io protocol.</p>

<p>Socket IO implementations:</p>

<ul>
<li>JS: https://github.com/socketio/socket.io-client</li>
<li>Python: https://github.com/miguelgrinberg/python-socketio</li>
<li>Go: https://github.com/googollee/go-socket.io</li>
<li>C++: https://github.com/socketio/socket.io-client-cpp</li>
</ul>
<h3 id='wallet-socket-auth'>Wallet Socket Auth</h3>
<p>Authentication with the API server must be completed before any other events
will be accepted.</p>

<p>Note that even if the server API key is disabled on the test server, the
<code>wallet auth</code> event must still be sent to complete the handshake.</p>

<p><code>emit(&#39;wallet auth&#39;, &#39;server-api-key&#39;)</code></p>

<p>The server will respond with a socket.io ACK packet once auth is completed.</p>
<h3 id='listening-on-a-wallet'>Listening on a wallet</h3>
<p>After creating a websocket and authing with the server, you must send a <code>wallet
join</code> event to listen for events on a wallet.</p>

<p><code>emit(&#39;wallet join&#39;, &#39;wallet-id&#39;, &#39;wallet-token&#39;)</code></p>
<h3 id='unlistening-on-a-wallet'>Unlistening on a wallet</h3>
<p><code>emit(&#39;wallet leave&#39;, &#39;wallet-id&#39;)</code></p>
<h2 id='version'><code>version</code></h2>
<p>Emitted on connection.</p>

<p>Returns version. Object in the form:
<code>[{ version: &#39;0.0.0-alpha&#39;, agent: &#39;/hsd:0.0.0-alpha/&#39;, network: &#39;main&#39; }]</code>.</p>
<h2 id='wallet-tx'><code>wallet tx</code></h2>
<p>Received on transaction.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc0f93bb233fdf42a25a086ffb744fcb4f64afe6f5d4243da8e3745835fd57b3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528468930</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T14:42:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
    </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500002800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7qumafugfglg268djelwr7ps4l2uh2vsdpfnuc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q7rvnwj3vaqxrwuv87j7xc6ye83tpevfkvhzsap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/0/1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">400000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1q2x2suqr44gjn2plm3f99v2ae6ead3rpat9qtzg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"covenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001758758e600061e62b92831cb40163011e07bd42cac34467f7d34f57c4a921e35000000000241825ebb96f395c02d3cdce7f88594dab343347879dd96af29320bf020f2c5677d4ab7ef79349007d562a4cdafb54d8e1cbd538275deef1b78eb945155315ae648012102deb957b2e4ebb246e1ecb27a4dc7d142504e70a420adb3cf40f9fb5d3928fdf9ffffffff0200e1f505000000000014f0d9374a2ce80c377187f4bc6c68993c561cb13600000084d71700000000001451950e0075aa253507fb8a4a562bb9d67ad88c3d000000000000"</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='hsw-conflict'><code>hsw.conflict</code></h2>
<p>Received on double spend.</p>

<p>Returns tx details of removed double spender.</p>
<h2 id='hsw-confirmed'><code>hsw.confirmed</code></h2>
<p>Received when a transaction is confirmed.</p>

<p>Returns tx details.</p>
<h2 id='wallet-unconfirmed'><code>wallet unconfirmed</code></h2>
<p>Received if a transaction was changed from
confirmed-&gt;unconfirmed as the result of a reorg.</p>

<p>Returns tx details.</p>
<h2 id='wallet-balance'><code>wallet balance</code></h2>
<p>Received on balance update. Only emitted for
entire wallet balance (not individual accounts).</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8149.9999546"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8150.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lockedUnconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lockedConfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='wallet-address'><code>wallet address</code></h2>
<p>Received when a new address is derived.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"031a407b5219789b36b368a926fd9f0ea4817e3f6691a46454d8d01c71bff1096e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rs1qryvfn5wzdd0wajpjjzs00s64nqxv0w077jz9gd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='errors'>Errors</h1>
<p>Any errors will be returned with an http status code other than 200, containing a JSON object in the form:</p>

<p><code>{&quot;error&quot;: { message: &quot;message&quot; } }</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--curl">cURL</a>
                <a href="#" data-language-name="shell--cli">CLI</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
